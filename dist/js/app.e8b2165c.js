(function(e){function t(t){for(var a,s,o=t[0],l=t[1],h=t[2],p=0,d=[];p<o.length;p++)s=o[p],n[s]&&d.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,h||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var c=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"003c":function(e,t){},"0dc5":function(e,t,r){"use strict";var a=r("3e5d"),n=r.n(a);n.a},1:function(e,t){},1076:function(e,t,r){},1381:function(e,t,r){"use strict";var a=r("75e0"),n=r.n(a);n.a},"1bc6":function(e,t,r){},"1e19":function(e,t,r){"use strict";var a=r("f8fa"),n=r.n(a);n.a},"1e56":function(e,t,r){},"1f0e":function(e,t,r){"use strict";var a=r("56bb"),n=r.n(a);n.a},"1f78":function(e,t,r){"use strict";var a=r("ac4f"),n=r.n(a);n.a},2:function(e,t){},"29aa":function(e,t,r){"use strict";var a=r("e22f"),n=r.n(a);n.a},"2a40":function(e,t,r){},3:function(e,t){},"3e5d":function(e,t,r){},4:function(e,t){},"52a4":function(e,t,r){"use strict";var a=r("2a40"),n=r.n(a);n.a},5434:function(e,t,r){},"56bb":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("ac4d"),r("8a81"),r("cadf"),r("551c"),r("f751"),r("097d");var a=r("a026"),n=r("e508"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-content",[r("router-view")],1)],1)},s=[],o={props:{source:String}},l=o,h=r("2877"),c=Object(h["a"])(l,i,s,!1,null,null,null),p=c.exports,d=r("8c4f"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("app-snackbar"),this.toolbar?r("app-toolbar"):e._e(),r("app-tools"),r("app-view"),r("app-studio"),this.footer?r("app-lower-toolbar"):e._e()],1)},f=[],m=r("cebc"),g=r("2f62"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-toolbar",{staticClass:"light",attrs:{fixed:"",app:"",dense:"","clipped-right":"","clipped-left":""}},[r("div",{attrs:{id:"toolbar-toggle"}},[r("v-toolbar-side-icon",{attrs:{left:""},on:{click:e.onToolsClick}},[r("v-icon",{attrs:{color:"deep-purple"}},[e._v("menu")])],1)],1),r("v-toolbar-title",{staticClass:"deep-purple--text font-weight-black",attrs:{router:"",to:"/",id:"toolbar-title"}},[e._v("\n    PheW\n  ")]),r("app-load-data"),r("div",{attrs:{id:"file-name"}},[r("span",{},[e._v(e._s(e.fileName))])]),r("v-spacer"),r("div",{attrs:{id:"project-name"}},[r("v-combobox",{attrs:{placeholder:Boolean(e.fileName)?"Project Name":"No data",items:e.templatesNames,disabled:!Boolean(e.fileName)},on:{input:e.updateTemplateName_,select:e.updateTemplateName_},model:{value:e.currentTemplateName,callback:function(t){e.currentTemplateName=t},expression:"currentTemplateName"}})],1),r("app-apply-template",{attrs:{templateName:this.currentTemplateName}}),r("app-save-templates"),r("app-save-as-svg"),r("app-box-toggler"),r("app-zoomer"),r("app-view-manager"),r("v-toolbar-side-icon",{on:{click:e.onStudioClick}},[r("v-icon",{attrs:{color:"deep-purple"}},[e._v("menu")])],1)],1)},v=[],b=(r("7f7f"),r("b012")),w=r.n(b),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{id:"tooltip","open-delay":"700",bottom:""}},[r("upload-btn",{attrs:{slot:"activator",uniqueId:"",title:e.title,color:"light",icon:""},on:{"file-update":e.readDataFile},slot:"activator"},[r("template",{slot:"icon"},[r("v-icon",{attrs:{color:"deep-purple"}},[e._v("file_upload")])],1)],2),r("span",[e._v("Load data file")])],1)},S=[],k=r("82e0"),P=r.n(k),C={name:"LoadData",components:{"upload-btn":P.a},props:{uniqueId:String,default:function(){return""}},methods:Object(m["a"])({},Object(g["b"])({readDataFile:"backend/readDataFile"})),computed:{title:function(){return this.uniqueId||"UploadData"}}},G=C,N=Object(h["a"])(G,x,S,!1,null,null,null),O=N.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("number-input-spinner",{ref:"spinner",attrs:{min:0,max:e.maxDisplayedGlyphs,value:e.selectedNumGlyphs,inputClass:"mine__input",buttonClass:"mine__button"},model:{value:e.selectedNumGlyphs,callback:function(t){e.selectedNumGlyphs=t},expression:"selectedNumGlyphs"}})},T=[],B=r("1fb0"),F=r.n(B),z={name:"ViewManager",components:{"number-input-spinner":F.a},data:function(){return{selectedNumGlyphs:0}},computed:Object(m["a"])({},Object(g["d"])({maxDisplayedGlyphs:function(e){return e.app.maxDisplayedGlyphs},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs}})),methods:Object(m["a"])({},Object(g["b"])({changeDisplayedGlyphNum:"app/changeDisplayedGlyphNum"})),watch:{selectedNumGlyphs:b["debounce"].call(void 0,function(){this.selectedNumGlyphs!==this.numDisplayedGlyphs&&this.changeDisplayedGlyphNum(this.selectedNumGlyphs)},1e3),numDisplayedGlyphs:function(){if(this.numDisplayedGlyphs>this.selectedNumGlyphs)for(var e=0;e<this.numDisplayedGlyphs-this.selectedNumGlyphs;e++)this.$refs.spinner.increaseNumber();else for(var t=0;t<this.selectedNumGlyphs-this.numDisplayedGlyphs;t++)this.$refs.spinner.decreaseNumber()}}},D=z,E=(r("1f78"),Object(h["a"])(D,j,T,!1,null,null,null)),_=E.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tooltip",{attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:"",id:"zoom-in"},on:{click:e.zoomIn},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("\n                zoom_in\n            ")])],1),r("span",[e._v("Zoom in on glyphs")])],1),r("v-tooltip",{attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:"",id:"zoom-out"},on:{click:e.zoomOut},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("\n                zoom_out\n            ")])],1),r("span",[e._v("Zoom out from glyphs")])],1)],1)},A=[],I={name:"Zoomer",data:function(){return{step:.1}},computed:Object(m["a"])({},Object(g["d"])({boundingRectSizeFactor:function(e){return e.app.boundingRectSizeFactor}})),methods:Object(m["a"])({},Object(g["b"])({setBoundingRectSizeFactor:"app/setBoundingRectSizeFactor",updateGlyphArrangement:"app/updateGlyphArrangement"}),{zoomIn:function(){var e=this.boundingRectSizeFactor+this.step;e<=1&&(this.setBoundingRectSizeFactor(e),this.updateGlyphArrangement())},zoomOut:function(){var e=this.boundingRectSizeFactor-this.step;e>=0&&(this.setBoundingRectSizeFactor(e),this.updateGlyphArrangement())}})},L=I,M=(r("29aa"),Object(h["a"])(L,R,A,!1,null,"5e7e2a4a",null)),V=M.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{id:"tooltip","open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:""},on:{click:e.toggleBoxes},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("check_box_outline_blank")])],1),r("span",[e._v("Toggle drawing boxes")])],1)},H=[],$={name:"BoxToggler",data:function(){return{drawingBoxVisibility:!1}},methods:Object(m["a"])({},Object(g["b"])({setGlyphVisibility:"glyph/setGlyphVisibility"}),{toggleBoxes:function(){this.setGlyphVisibility({value:!this.drawingBoxVisibility,glyphSelector:"all",shapeSelector:"main",itemSelector:"drawingBox"}),this.drawingBoxVisibility=!this.drawingBoxVisibility}})},J=$,U=Object(h["a"])(J,W,H,!1,null,"e631013a",null),q=U.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{id:"tooltip","open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:"",disabled:!Boolean(e.fileName)},on:{click:e.saveCurrentTemplateWithNameCheck},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("save")])],1),r("span",[e._v("Save current glyphs configuration")])],1)},Y=[],Z={name:"SaveTemplates",computed:Object(m["a"])({},Object(g["d"])({fileName:function(e){return e.backend.fileName},templateName:function(e){return e.template.templateName}})),methods:Object(m["a"])({},Object(g["b"])({saveCurrentTemplate:"template/saveCurrentTemplate",activateSnackbar:"app/activateSnackbar"}),{saveCurrentTemplateWithNameCheck:function(){this.templateName?(this.saveCurrentTemplate(),this.activateSnackbar({text:"Saved current template '".concat(this.templateName,"'"),color:"success",timeout:2e3})):this.activateSnackbar({text:"Enter project name to save progress",color:"error",timeout:2e3})}})},K=Z,Q=Object(h["a"])(K,X,Y,!1,null,"8f1a7f3c",null),ee=Q.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{id:"tooltip","open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:"",disabled:!e.templateExists},on:{click:e.applyTemplate},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("replay")])],1),r("span",[e._v("Load settings and glyphs from selected template")])],1)},re=[],ae=(r("7514"),{name:"ApplyTemplate",props:{templateName:String},methods:Object(m["a"])({},Object(g["b"])({applyTemplate:"template/applyTemplate"})),computed:Object(m["a"])({},Object(g["d"])({availableTemplates:function(e){return e.template.availableTemplates}}),{templateExists:function(){var e=this;return this.availableTemplates.length>0&&Boolean(this.availableTemplates.find(function(t){return t.name.slice(0,-5)===e.templateName}))}})}),ne=ae,ie=Object(h["a"])(ne,te,re,!1,null,"52fca5ff",null),se=ie.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{id:"tooltip","open-delay":"700",bottom:""}},[r("v-btn",{attrs:{slot:"activator",icon:"",disabled:!e.drawn},on:{click:e.saveAsSVG},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("save")])],1),r("span",[e._v("Download SVG version of current glyph arrangment")])],1)},le=[],he={name:"SaveAsSVG",computed:Object(m["a"])({},Object(g["d"])({glyphs:function(e){return e.glyph.project.glyphs}}),{drawn:function(){return this.glyphs.some(function(e){return e.drawn})}}),methods:Object(m["a"])({},Object(g["b"])({saveAsSVG:"glyph/saveAsSVG"}))},ce=he,pe=Object(h["a"])(ce,oe,le,!1,null,"dcb09cd2",null),de=pe.exports,ue={name:"Toolbar",components:{"app-load-data":O,"app-view-manager":_,"app-zoomer":V,"app-box-toggler":q,"app-save-templates":ee,"app-apply-template":se,"app-save-as-svg":de},data:function(){return{currentTemplateName:""}},computed:Object(m["a"])({},Object(g["d"])({fileName:function(e){return e.backend.fileName},numDisplayedGlyphs:function(e){return e.glyph.numDisplayedGlyphs},templateName:function(e){return e.template.templateName},availableTemplates:function(e){return e.template.availableTemplates}}),{templatesNames:function(){return this.availableTemplates.map(function(e){return e.name.slice(0,-5)})}}),methods:Object(m["a"])({},Object(g["b"])({toggleToolsDrawer:"app/toggleToolsDrawer",toggleStudioDrawer:"app/toggleStudioDrawer",updateTemplateName:"template/updateTemplateName"}),{onToolsClick:function(){this.toggleToolsDrawer()},onStudioClick:function(){this.toggleStudioDrawer()},updateTemplateName_:w.a.call(void 0,function(e){console.log("Changing template name from ".concat(this.templateName," to ").concat(e)),this.updateTemplateName(e)},500)})},fe=ue,me=(r("736b"),Object(h["a"])(fe,y,v,!1,null,"d9090144",null)),ge=me.exports,ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{staticClass:"dark",attrs:{id:"tools-drawer",fixed:"",clipped:"",value:this.toolsDrawer,"mini-variant":"","mini-variant-width":"60",app:"","mobile-break-point":"800"},on:{input:e.updateToolsDrawerState}},[r("v-list",[r("app-bind"),r("app-shape"),r("app-child"),r("app-remove")],1)],1)},ve=[],be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-tile",{attrs:{id:"tool-tile"}},[r("v-tooltip",{attrs:{id:"tooltip",right:"","open-delay":"700"}},[r("v-btn",{attrs:{slot:"activator",id:"glyph",flat:"",block:""},on:{click:function(t){return e.setGlyphBinderState(!0)}},slot:"activator"},[r("v-icon",{attrs:{light:"",color:e.color}},[e._v("view_column")])],1),r("span",[e._v(" Open pane for feature binding")])],1)],1)},we=[],xe={name:"Bind",methods:Object(m["a"])({},Object(g["b"])({setGlyphBinderState:"app/setGlyphBinderState"})),props:{color:{type:String,default:"white"}}},Se=xe,ke=(r("c892"),Object(h["a"])(Se,be,we,!1,null,"139ae654",null)),Pe=ke.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-tile",{attrs:{id:"tool-tile"}},[r("v-tooltip",{attrs:{id:"tooltip",right:"","open-delay":"700"}},[r("v-btn",{attrs:{slot:"activator",id:"glyph",flat:"",block:""},on:{click:function(t){return e.setShapeManagerState(!0)}},slot:"activator"},[r("v-icon",{attrs:{light:"",color:e.color}},[e._v("adjust")])],1),r("span",[e._v(" Draw shapes for use in glyphs ")])],1)],1)},Ge=[],Ne={name:"Shape",props:{color:{type:String,default:"white"}},methods:Object(m["a"])({},Object(g["b"])({setShapeManagerState:"app/setShapeManagerState"}))},Oe=Ne,je=(r("581e"),Object(h["a"])(Oe,Ce,Ge,!1,null,"08e58da6",null)),Te=je.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-tile",{attrs:{id:"tool-tile"}},[r("v-tooltip",{attrs:{id:"tooltip",right:"","open-delay":"700"}},[r("v-btn",{attrs:{slot:"activator",id:"glyph",flat:"",block:""},on:{click:function(t){return e.setGlyphAdderState(!0)}},slot:"activator"},[r("v-icon",{attrs:{light:"",color:e.color}},[e._v("add")])],1),r("span",[e._v(" Add glyph to existing drawing ")])],1)],1)},Fe=[],ze={name:"Child",props:{color:{type:String,default:"white"}},methods:Object(m["a"])({},Object(g["b"])({setGlyphAdderState:"app/setGlyphAdderState"}))},De=ze,Ee=(r("ac2d"),Object(h["a"])(De,Be,Fe,!1,null,"0fee8262",null)),_e=Ee.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-tile",{attrs:{id:"tool-tile"}},[r("v-tooltip",{attrs:{id:"tooltip",right:"","open-delay":"700"}},[r("v-btn",{attrs:{slot:"activator",id:"remove",flat:"",block:""},on:{click:e.onClick},slot:"activator"},[r("v-icon",{attrs:{light:"",color:"white"}},[e._v("close")])],1),r("span",[e._v(" Remove glyphs ")])],1)],1)},Ae=[],Ie={name:"Remove",computed:Object(m["a"])({},Object(g["d"])({parsedData:function(e){return e.backend.parsedData},glyphs:function(e){return e.glyph.project.glyphs}})),methods:Object(m["a"])({},Object(g["b"])({resetLayers:"glyph/resetLayers",changeDisplayedGlyphNum:"app/changeDisplayedGlyphNum",setGlyphArrangement:"app/setGlyphArrangement"}),{onClick:function(){this.resetLayers(),this.changeDisplayedGlyphNum(0),this.setGlyphArrangement("grid")}})},Le=Ie,Me=(r("52a4"),Object(h["a"])(Le,Re,Ae,!1,null,"d5a3e90c",null)),Ve=Me.exports,We={name:"Tools",components:{"app-bind":Pe,"app-shape":Te,"app-child":_e,"app-remove":Ve},computed:Object(m["a"])({},Object(g["d"])({toolsDrawer:function(e){return e.app.toolsDrawer}})),methods:Object(m["a"])({},Object(g["b"])({setToolsDrawerState:"app/setToolsDrawerState"}),{updateToolsDrawerState:function(e){e||this.setToolsDrawerState(e)}})},He=We,$e=Object(h["a"])(He,ye,ve,!1,null,"7d8d88f8",null),Je=$e.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"view"}},[e.welcomeCard&&!e.drawing?r("app-welcome-card",{attrs:{id:"welcome-card"},on:{configLoaded:e.applyBinding}}):e._e(),r("app-bind-options",{directives:[{name:"show",rawName:"v-show",value:e.glyphBinder,expression:"glyphBinder"}],ref:"bonds",staticClass:"control-panel"}),e.shapeManager?r("app-shape-manager"):e._e(),e.glyphAdder?r("app-glyph-adder"):e._e(),r("app-glyph-canvas",{directives:[{name:"resize",rawName:"v-resize.quiet",value:e.updateGlyphArrangement,expression:"updateGlyphArrangement",modifiers:{quiet:!0}},{name:"show",rawName:"v-show",value:e.canvas,expression:"canvas"}],ref:"canvas",attrs:{drawing:e.drawing},on:{"update:drawing":function(t){e.drawing=t}}}),e.legendViewer?r("app-legend-viewer"):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:e.drawing&&!e.glyphBinder&&!e.shapeManager&&!e.glyphAdder&&!e.legendViewer,expression:"drawing && !glyphBinder && !shapeManager && !glyphAdder && !legendViewer"}],staticClass:"progress-wrap"},[r("v-progress-circular",{staticClass:"progress",attrs:{indeterminate:"",size:"100",color:"primary"}})],1)],1)},qe=[],Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("canvas",{directives:[{name:"resize",rawName:"v-resize",value:e.resizeCanvasToView,expression:"resizeCanvasToView"}],attrs:{id:"glyph-canvas"}})},Ye=[],Ze=r("768b"),Ke=(r("ac6a"),r("ffc1"),r("c5f6"),r("2222")),Qe=r.n(Ke),et={name:"GlyphCanvas",data:function(){return{intervalRef:null}},computed:Object(m["a"])({},Object(g["d"])({boundingRects:function(e){return e.app.boundingRects},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs},orderedNormalizedData:function(e){return e.backend.orderedNormalizedData},glyphs:function(e){return e.glyph.project.glyphs},currentPage:function(e){return e.app.currentPage},redrawing:function(e){return e.glyph.redrawing},glyphBinder:function(e){return e.app.glyphBinder},shapeManager:function(e){return e.app.shapeManager},chart:function(e){return e.app.chart}}),{glyphScope:function(){for(var e=0;e<3;e++){var t=Qe.a.PaperScope.get(e);if("glyph-canvas"===t.view.element.id)return t}throw Error("No scope bound to element 'glyph-canvas'")}}),methods:Object(m["a"])({},Object(g["b"])({setLayersUp:"glyph/setLayersUp",updateGlyphArrangement:"app/updateGlyphArrangement",drawGlyph:"glyph/drawGlyph",moveGlyph:"glyph/moveGlyph",resetGlyph:"glyph/resetGlyph",addCaption:"glyph/addCaption",drawChart:"app/drawChart"}),{resizeCanvasToView:function(){var e=document.getElementById("view");null!==Qe.a.view&&(Qe.a.view.viewSize.width=e.offsetWidth,Qe.a.view.viewSize.height=e.offsetHeight,console.log("Canvas resized")),this.chart&&this.drawChart()},placeGlyphs:b["debounce"].call(void 0,function(){var e=0,t=0,r=this.glyphs.reduce(function(e,t){return e+Number(t.drawn)},0);if(r<this.numDisplayedGlyphs){for(var a=0,n=Object.entries(this.boundingRects);a<n.length;a++){var i=Object(Ze["a"])(n[a],2),s=i[0],o=i[1];s=Number(s);var l=(this.currentPage-1)*this.numDisplayedGlyphs+s;l<this.glyphs.length&&o.width>0&&o.height>0&&!this.glyphs[l].drawn&&(this.drawGlyph({glyphIndex:l,boundingRect:o}),this.addCaption({glyphIndex:l,boundingRect:o}),e++)}e>0&&console.log("".concat(e," glyphs were drawn")),this.$emit("update:drawing",!1)}else{this.$emit("update:drawing",!1);for(var h=0,c=Object.entries(this.boundingRects);h<c.length;h++){var p=Object(Ze["a"])(c[h],2);s=p[0],o=p[1];s=Number(s);var d=(this.currentPage-1)*this.numDisplayedGlyphs+s;d<this.glyphs.length&&o.width>0&&o.height>0&&this.glyphs[d].drawn&&this.glyphs[d].mainPath.visible&&(this.moveGlyph({glyphIndex:d,boundingRect:o}),t++)}t>0&&console.log("".concat(t," glyphs were moved"))}},800),redrawGlyphs:function(){var e=this,t=[];this.boundingRects.forEach(function(e){var r=e.generator;return t.push(r.id)});var r=function(e){return e.every(function(t){return t===e[0]})};if(!r(t))throw new Error("Glyph come from mismatching generators");this.glyphs.forEach(function(t,r){return e.resetGlyph(r)});var a=0;this.boundingRects.forEach(function(t,r){var n=(e.currentPage-1)*e.numDisplayedGlyphs+r;n<e.glyphs.length&&t.width>0&&t.height>0&&(e.drawGlyph({glyphIndex:n,boundingRect:t}),e.addCaption({glyphIndex:n,boundingRect:t}),a++)}),a>0&&console.log("".concat(a," glyphs were redrawn")),this.$emit("update:drawing",!1)},toggleDrawingBoxes:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.glyphs[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;i.getItem("drawingBox").visible=!0}}catch(s){t=!0,r=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}},glyphsNeedUpdate:function(){return this.glyphs.some(function(e){var t=e.checkBoxUpdate();return t.box})},setAutomaticBoxFit:function(e){e&&!this.intervalRef?(console.log("Turning automatic box fit on"),this.intervalRef=setInterval(function(e){e.glyphsNeedUpdate()&&(console.log("automatic box-to-glyph fit"),e.placeGlyphs())},3e3,this)):(console.log("Turning automatic box fit off"),clearInterval(this.intervalRef),this.intervalRef=null)}}),watch:{numDisplayedGlyphs:function(){this.updateGlyphArrangement(),this.boundingRects.length>0&&this.$emit("update:drawing",!0),this.redrawGlyphs()},boundingRects:{handler:function(){this.glyphs.length>=this.boundingRects.length&&(this.$emit("update:drawing",!0),this.placeGlyphs())},deep:!0},currentPage:function(){this.$emit("update:drawing",!0),this.redrawGlyphs()},redrawing:function(){this.redrawing&&(this.$emit("update:drawing",!0),this.redrawGlyphs())},glyphBinder:function(){this.setAutomaticBoxFit(!(this.glyphBinder||this.shapeManager))},shapeManager:function(){this.setAutomaticBoxFit(!(this.glyphBinder||this.shapeManager))}},mounted:function(){window.paper={},Qe.a.install(window.paper),Qe.a.setup("glyph-canvas"),Qe.a.activate(),this.setLayersUp(),this.resizeCanvasToView(),this.setAutomaticBoxFit(!0)},updated:function(){this.$emit("update:drawing",!0),this.updateGlyphArrangement(),this.redrawGlyphs()}},tt=et,rt=(r("72e6"),Object(h["a"])(tt,Xe,Ye,!1,null,"003d0dae",null)),at=rt.exports,nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-card",{staticClass:"light elevation-5",attrs:{id:"bind-card"}},[r("v-layout",{attrs:{column:"","justify-space-around":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",{staticClass:"title"},[r("span",{staticClass:"font-weight-bold"},[e._v("Bind Options: ")]),e._v(" Select element-feature pairs\n                    ")])],1)],1),r("v-layout",{attrs:{row:"","justify-space-around":"",wrap:""}},[r("v-flex",{attrs:{xs6:"",sm4:""}},[r("v-select",{staticClass:"selector",attrs:{outlined:"",items:e.glyphNames,label:"Choose glyph type"},model:{value:e.selectedGlyphName,callback:function(t){e.selectedGlyphName=t},expression:"selectedGlyphName"}})],1),r("v-flex",{attrs:{xs6:"",sm4:""}},[r("v-select",{staticClass:"selector",attrs:{outlined:"",items:e.settingOptions,label:e.glyphSettings.message||"Choose glyph-specific options"},model:{value:e.selectedGlyphSetting,callback:function(t){e.selectedGlyphSetting=t},expression:"selectedGlyphSetting"}})],1),r("v-flex",{attrs:{xs6:"",sm4:""}},[r("v-select",{staticClass:"selector",attrs:{outlined:"",items:e.stringFields,label:"Choose cluster names"},model:{value:e.selectedOrderField,callback:function(t){e.selectedOrderField=t},expression:"selectedOrderField"}})],1),r("v-flex",{attrs:{x2:"",sm2:""}},[r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.getTemplate(e.selectedTemplateName)}}},[r("v-icon",{attrs:{color:"primary"}},[e._v("check_circle")])],1)],1),r("v-flex",{attrs:{xs1:"",sm1:""}},[r("v-btn",{attrs:{icon:""},on:{click:function(t){e.setGlyphBinderState(!1),e.setGlyphVisibility({value:!0})}}},[r("v-icon",{attrs:{color:"primary"}},[e._v("close")])],1)],1)],1),r("v-tabs",{attrs:{color:"secondary","slider-color":"primary",grow:""},model:{value:e.selectedShapeIndex,callback:function(t){e.selectedShapeIndex=t},expression:"selectedShapeIndex"}},e._l(e.shapeItems,function(t){return r("v-tab",{key:t.id,attrs:{value:t.value}},[e._v("\n                    "+e._s(t.value)+"\n                ")])}),1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:""}},[r("app-scroll-options",{attrs:{title:"Element selection",items:e.elementItems,select:e.selectedGlyphEl},on:{"update:select":function(t){e.selectedGlyphEl=t},buttonClick:e.unbindElement}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("app-scroll-options",{attrs:{title:"Feature selection",items:e.fieldItems},on:{change:e.bindFieldToElement,buttonClick:e.unbindField}})],1)],1),r("v-layout",{attrs:{row:"",wrap:"","align-end":"","justify-space-around":""}},[r("v-flex",{attrs:{xs6:"",md3:"","d-flex":""}},[r("v-btn",{staticClass:"primary white--text",attrs:{flat:""},on:{click:e.applyBinding}},[e._v("Bind")])],1)],1)],1)],1)],1)},it=[],st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lists-outer"},[r("div",{staticClass:"title",staticStyle:{"margin-left":"10%"}},[e._v("\n    "+e._s(e.title)+"\n  ")]),r("v-list",{staticClass:"lists",attrs:{avatar:"",dense:""}},[r("recycle-scroller",{staticClass:"scroller",attrs:{items:e.items,"item-size":40,"key-field":"id"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[r("v-list-tile",{staticClass:"tile",class:{secondary:a.selected},on:{click:function(t){return e.selectItem(a)}}},[r("v-list-tile-content",{staticClass:"tile-content"},[e._v("\n            "+e._s(a.value)+"\n        ")]),r("v-list-tile-content",[r("v-list-tile-action",[a.button?r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.onButtonClick(a)}}},[r("v-icon",[e._v("close")])],1):e._e()],1)],1)],1)]}}])})],1)],1)},ot=[],lt=r("7828"),ht={name:"ScrollOptions",components:{"recycle-scroller":lt["a"]},data:function(){return{lastItem:""}},props:{title:String,titleFontClass:{type:String,default:"title"},items:Array,selected:Object},methods:Object(m["a"])({},Object(g["b"])({selectGlyphEl:"glyph/selectGlyphEl"}),{selectItem:function(e){this.selectedItem=e,this.items.forEach(function(e){e.selected=!1}),e.selected=!0,this.lastItem!==e.key&&(this.$emit("update:select",e.key),this.$emit("change",e.key),this.lastItem=e.key)},onButtonClick:function(e){this.$emit("buttonClick",e.key),setTimeout(function(){this.lastItem=""}.bind(this),150)}})},ct=ht,pt=(r("f274"),Object(h["a"])(ct,st,ot,!1,null,"1df07862",null)),dt=pt.exports,ut={name:"BindOptions",components:{"app-scroll-options":dt},data:function(){return{selectedShapeIndex:0,selectedShape:"",selectedGlyphEl:"",fieldBindings:[],selectedGlyphName:"",selectedOrderField:"",selectedGlyphSetting:"",lastUnboundField:"",selectedTemplateName:""}},computed:Object(m["a"])({},Object(g["d"])({glyphs:function(e){return e.glyph.project.glyphs},glyphTypes:function(e){return e.glyph.glyphTypes},glyphSettings:function(e){return e.glyph.glyphSettings},glyphShapes:function(e){return e.glyph.glyphShapes},glyphElements:function(e){return e.glyph.glyphElements},dataFields:function(e){return e.backend.dataFields},fieldTypes:function(e){return e.backend.fieldTypes},fileName:function(e){return e.backend.fileName},loadedBindingData:function(e){return e.backend.loadedBindingData},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs},maxDisplayedGlyphs:function(e){return e.app.maxDisplayedGlyphs},availableTemplates:function(e){return e.template.availableTemplates},currentTemplate:function(e){return e.template.currentTemplate},testTemplate:function(e){return e.template.testTemplate}}),{glyphNames:function(){var e=[];return this.glyphTypes.forEach(function(t){return e.push(t.type)}),e},settingOptions:function(){return this.glyphSettings.options},shapeItems:function(){var e=[],t=this.glyphShapes.children.concat([this.glyphShapes.main]);return t.forEach(function(t,r){e.push({id:r,key:t,value:t,selected:!1,button:!1})}),e},elementItems:function(){var e=this,t=[],r=!0,a=!1,n=void 0;try{for(var i,s=function(){var r=Object(Ze["a"])(i.value,2),a=r[0],n=r[1];if(n.target===e.selectedShape){var s=e.fieldBindings.find(function(e){return e.element===n.name&&e.shape===n.target});t.push({id:a,key:n.name,value:n.name+(s?" ( bound feature: "+s.field+" )":""),selected:e.selectedGlyphEl===n.name,button:Boolean(s)})}},o=this.glyphElements.entries()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)s()}catch(l){a=!0,n=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}return t},fieldItems:function(){var e=this,t=[],r=0,a=function(t,r){return r?t+" ( bound to "+r.shape+"'s "+r.element+" )":e.lastUnboundField===t?t+" ( unbound )":t},n=!0,i=!1,s=void 0;try{for(var o,l=function(){var n=o.value;if(e.fieldTypes[n]===Number){var i=e.fieldBindings.find(function(e){return e.field===n&&e.shape});t.push({id:r,key:n,value:a(n,i),selected:Boolean(i),button:Boolean(i)}),r++}},h=this.dataFields[Symbol.iterator]();!(n=(o=h.next()).done);n=!0)l()}catch(c){i=!0,s=c}finally{try{n||null==h.return||h.return()}finally{if(i)throw s}}return t},stringFields:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,i=this.dataFields[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;this.fieldTypes[s]===String&&e.push(s)}}catch(o){r=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return 0===e.length&&(e=this.dataFields),e},templatesNames:function(){return this.availableTemplates.map(function(e){return e.name.slice(0,-5)})}}),methods:Object(m["a"])({},Object(g["b"])({setGlyphBinderState:"app/setGlyphBinderState",setGlyphType:"glyph/setGlyphType",setBindings:"glyph/setBindings",addDataBoundGlyphs:"glyph/addDataBoundGlyphs",discardGlyphs:"glyph/discardGlyphs",changeDisplayedGlyphNum:"app/changeDisplayedGlyphNum",setNamingField:"backend/setNamingField",normalizeFeatures:"backend/normalizeFeatures",setGlyphVisibility:"glyph/setGlyphVisibility",getTemplate:"template/getTemplate"}),{bindFieldToElement:function(e){var t=this;if(this.selectedGlyphEl){var r=-1;this.fieldBindings.forEach(function(e,a){e.shape===t.selectedShape&&e.element===t.selectedGlyphEl&&(r=a)}),r>=0&&this.fieldBindings.splice(r),this.fieldBindings.push({shape:this.selectedShape,element:this.selectedGlyphEl,field:e}),console.log("".concat(this.selectedGlyphEl," was bound to ").concat(e))}},unbindField:function(e){console.log("Unbinding ".concat(e)),this.fieldBindings=this.fieldBindings.filter(function(t){return t.field!==e}),this.lastUnboundField=e},unbindElement:function(e){var t=this;console.log("Unbinding ".concat(this.selectedShape,"'s ").concat(e)),this.fieldBindings=this.fieldBindings.filter(function(r){return!(r.element===e&&t.selectedShape===r.shape)})},applyBinding:function(){this.setNamingField(this.selectedOrderField),this.setBindings(this.fieldBindings),this.normalizeFeatures(),this.glyphs.length>0&&this.discardGlyphs(),this.addDataBoundGlyphs(),this.setGlyphBinderState(!1),this.changeDisplayedGlyphNum(this.numDisplayedGlyphs||this.maxDisplayedGlyphs)},selectField:function(e){this.selectedField=e.value,this.fieldItems.forEach(function(e){e.selected=!1}),e.selected=!0},selectGlyphEl:function(e){this.selectedGlyphEl=e.value,this.elementItems.forEach(function(e){e.selected=!1}),e.selected=!0}}),watch:{selectedShapeIndex:function(){this.selectedShape=this.shapeItems[this.selectedShapeIndex].value},selectedGlyphName:function(){if("None"!==this.selectedGlyphName){var e=!0,t=!1,r=void 0;try{for(var a,n=this.glyphTypes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;i.type===this.selectedGlyphName&&(this.selectedShape=i.shapes.main)}}catch(s){t=!0,r=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}this.setGlyphType({glyphTypeName:this.selectedGlyphName,glyphSetting:this.selectedGlyphSetting})}},selectedGlyphSetting:function(){"None"!==this.selectedGlyphName&&this.setGlyphType({glyphTypeName:this.selectedGlyphName,glyphSetting:this.selectedGlyphSetting})}}},ft=ut,mt=(r("790b"),Object(h["a"])(ft,nt,it,!1,null,"7eb14aea",null)),gt=mt.exports,yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.updateBoxRects,expression:"updateBoxRects"}],staticClass:"light elevation-5",attrs:{id:"content"}},[r("v-layout",{attrs:{column:"","justify-space-around":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs6:"",sm4:""}},[r("div",{ref:"drawingBox",staticClass:"canvas-box",attrs:{id:"drawing-box"}})]),r("v-flex",{attrs:{xs6:"",sm4:""}},[r("div",{staticClass:"buttons"},[r("v-btn",{staticClass:"btn white--text primary",attrs:{disabled:e.drawingMode},on:{click:e.drawPath}},[e._v("\n                        Draw\n                    ")]),r("div",{staticClass:"text-field btn"},[r("v-text-field",{staticStyle:{"z-index":"4"},attrs:{label:"Enter glyph name"},model:{value:e.newShapeName,callback:function(t){e.newShapeName=t},expression:"newShapeName"}})],1),r("v-btn",{staticClass:"btn primary light--text",attrs:{disabled:!e.drawingMode},on:{click:e.savePath}},[e._v("\n                        Save\n                    ")]),r("v-btn",{staticClass:"btn secondary dark--text",attrs:{disabled:!e.drawingMode},on:{click:e.removePath}},[e._v("\n                        Clear\n                    ")])],1)]),r("v-flex",{attrs:{xs6:"",sm3:""}},[r("div",{staticClass:"explanation-out"},[r("div",{staticClass:"explanation-in"},[e._v("\n                        Click on a shape and a categorical value in order to assign the shape to the value\n                    ")])]),r("v-select",{staticClass:"btn variable-selector",attrs:{outlined:"",items:e.categoricals,label:"Choose feature for shape assignment"},model:{value:e.selectedCategorical,callback:function(t){e.selectedCategorical=t},expression:"selectedCategorical"}}),r("v-btn",{staticClass:"btn close-button",attrs:{depressed:""},on:{click:e.applyShapes}},[r("v-icon",{attrs:{color:"primary"}},[e._v("done")])],1)],1)],1),r("v-layout",[r("v-flex",{staticClass:"btn",attrs:{xs6:"",sm6:""}},[r("app-scroll-options",{attrs:{id:"shape-list",title:"Saved shapes",items:e.shapeNames},on:{change:e.loadShape,buttonClick:e.removeShape}})],1),r("v-flex",{staticClass:"btn",attrs:{xs6:"",sm6:""}},[r("app-scroll-options",{attrs:{id:"value-list",title:"Categorical values",items:e.categoricalValues},on:{change:e.assignShape,buttonClick:e.unassignShape}})],1)],1)],1)],1)},vt=[],bt=(r("456d"),{name:"ShapeManager",components:{"app-scroll-options":dt},data:function(){return{newShapeName:"",drawingMode:!1,drawingBounds:{top:0,bottom:0,left:0,right:0,width:0,height:0},drawGlyphTool:null,path:null,loadedShape:"",selectedCategorical:""}},computed:Object(m["a"])({},Object(g["d"])({shapeJSONStore:function(e){return e.backend.shapeJSONStore},fieldTypes:function(e){return e.backend.fieldTypes},featuresRanges:function(e){return e.backend.featuresRanges},varShapeAssignment:function(e){return e.backend.varShapeAssignment}}),{shapeNames:function(){var e=[],t=0,r=!0,a=!1,n=void 0;try{for(var i,s=this.shapeJSONStore.keys()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;e.push({id:t,key:o,value:o,selected:!1,button:!0}),t++}}catch(l){a=!0,n=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return e},categoricals:function(){for(var e=[],t=Object.keys(this.fieldTypes),r=0,a=t;r<a.length;r++){var n=a[r];this.fieldTypes[n]===String&&e.push(n)}return e},categoricalValues:function(){var e=this,t=[];if(this.selectedCategorical){var r=0,a=!0,n=!1,i=void 0;try{for(var s,o=function(){var a=s.value,n=e.varShapeAssignment.find(function(e){return e.categoricalValue===a}),i=n?a+" ( assigned shape: ".concat(n.shape," )"):a;t.push({id:r,key:a,value:i,selected:!1,button:Boolean(n)}),r++},l=this.featuresRanges[this.selectedCategorical][Symbol.iterator]();!(a=(s=l.next()).done);a=!0)o()}catch(h){n=!0,i=h}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}}return t}}),methods:Object(m["a"])({},Object(g["b"])({setShapeManagerState:"app/setShapeManagerState",reassignGlyphLayer:"glyph/reassignGlyphLayer",updateGlyphArrangement:"app/updateGlyphArrangement",storeShapeJSON:"backend/storeShapeJSON",activateSnackbar:"app/activateSnackbar",removeShapeJSON:"backend/removeShapeJSON",setVarShapeAssignment:"backend/setVarShapeAssignment",activateRedrawing:"glyph/activateRedrawing"}),{initialiseTool:function(){var e=this;Qe.a.PaperScope.get(0).activate();var t=function(t){Qe.a.project.layers["temp"].activate(),!e.path&&e.drawingMode&&(console.log("Tool activated"),e.path=new Qe.a.Path({segments:[t.point],closed:!0,strokeColor:"black",fullySelected:!0}))},r=function(t){var r=t.point.x>e.drawingBounds.left&&t.point.x<e.drawingBounds.left+e.drawingBounds.width&&t.point.y>e.drawingBounds.top&&t.point.y<e.drawingBounds.top+e.drawingBounds.height;if(e.path&&e.drawingMode&&r){e.path.add(t.point);var a=e.path.hitTest(t.point,e.hitOptions);a&&a.segment===e.path.firstSegment?e.path.closed=!0:(e.path.closed=!1,e.path.fillColor&&(e.path.fillColor.alpha=0))}},a=function(){if(e.path&&e.drawingMode){for(var t=0,r=0;r<e.path.segments.length-2;r++){var a=[e.path.segments[r].point.x,e.path.segments[r].point.y],n=a[0],i=a[1],s=[e.path.segments[r+1].point.x,e.path.segments[r+1].point.y],o=s[0],l=s[1];t+=(o-n)*(l+i)}var h=[e.path.segments[e.path.segments.length-1].point.x,e.path.segments[e.path.segments.length-1].point.y],c=h[0],p=h[1],d=[e.path.segments[0].point.x,e.path.segments[0].point.y],u=d[0],f=d[1];if(t+=(u-c)*(f+p),t>0){var m=new Qe.a.Path({segments:e.path.segments.reverse(),strokeColor:"black",closed:!0});e.path.replaceWith(m),e.path=m,console.log("Replaced counter-clockwise path with clock-wise equivalent")}e.path.closed=!0,e.path.selected=!1,e.path.simplify();var g=e.path.bounds.height,y=e.path.bounds.width;g>=y?e.path.scale(g/y,1):e.path.scale(1,y/g),e.path.translate(new Qe.a.Point(e.drawingBounds.center.x-e.path.bounds.center.x,e.drawingBounds.center.y-e.path.bounds.center.y))}};this.drawGlyphTool=new Qe.a.Tool,Object.assign(this.drawGlyphTool,{onMouseDown:t,onMouseDrag:r,onMouseUp:a}),this.drawGlyphTool.activate(),console.log("Drawing tool activated"),this.strokeWidth=10,this.hitOptions={segments:!0,tolerance:this.strokeWidth},this.drawGlyphTool.minDistance=this.strokeWidth},updateBoxRects:function(){var e=document.getElementById("glyph-canvas").getBoundingClientRect(),t=this.$refs.drawingBox.getBoundingClientRect();this.drawingBounds={left:t.left-e.left,top:t.top-e.top,x:t.left-e.left,y:t.top-e.top,width:t.width,height:t.height,center:{x:t.left-e.left+t.width/2,y:t.top-e.top+t.height/2}},this.path&&(this.path.translate(new Qe.a.Point(this.drawingBounds.left-this.path.bounds.left,this.drawingBounds.top-this.path.bounds.top)),this.path.scale(this.drawingBounds.width/this.path.bounds.width,this.drawingBounds.height/this.path.bounds.height))},drawPath:function(){if(this.path){this.removePath();var e=!0,t=!1,r=void 0;try{for(var a,n=this.shapeNames[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;i.selected=!1}}catch(s){t=!0,r=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}this.initialiseTool(),this.drawingMode=!0,this.loadedShape="",this.newShapeName=""},endDrawing:function(){this.drawGlyphTool.remove(),this.drawingMode=!1,this.newShapeName=""},savePath:function(){this.path?(this.storeShapeJSON({name:this.newShapeName,shapeJSON:this.path.exportJSON()}),this.drawingMode=!1,this.removePath(),this.newShapeName=""):this.activateSnackbar({text:"No path to save - please draw a path",color:"warning",timeout:2e3})},removePath:function(){this.path&&(this.path.remove(),this.path=null)},loadShape:function(e){this.removePath(),Qe.a.project.layers["temp"].activate();var t=new Qe.a.Path;t.importJSON(this.shapeJSONStore.get(e)),t.translate(new Qe.a.Point(this.drawingBounds.center.x-t.bounds.center.x,this.drawingBounds.center.y-t.bounds.center.y)),t.scale(this.drawingBounds.width/t.bounds.width*.9,this.drawingBounds.height/t.bounds.height*.9),this.path=t,this.loadedShape=e,this.endDrawing()},removeShape:function(e){this.removeShapeJSON(e),this.removePath()},assignShape:function(e){var t=this,r=this.varShapeAssignment.map(function(e){return Object.assign({},e)}),a=r.find(function(r){return r.categoricalValue===e&&r.shape===t.loadedShape&&r.field===t.selectedCategorical});a?a.categoricalValue=e:r.push({categoricalValue:e,shape:this.loadedShape,field:this.selectedCategorical}),this.setVarShapeAssignment(r)},unassignShape:function(e){var t=this,r=this.varShapeAssignment.map(function(e){return Object.assign({},e)}).filter(function(r){return!(r.categoricalValue===e&&r.field===t.selectedCategorical)});this.setVarShapeAssignment(r)},applyShapes:function(){this.setShapeManagerState(!1),setTimeout(function(){}),this.activateRedrawing()}}),beforeDestroy:function(){this.drawGlyphTool&&this.drawGlyphTool.remove()}}),wt=bt,xt=(r("1e19"),Object(h["a"])(wt,yt,vt,!1,null,"1e090092",null)),St=xt.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.updateBoxRects,expression:"updateBoxRects"}],staticClass:"light elevation-5",attrs:{id:"content"}},[r("v-card-text",{staticClass:"title"},[e._v("\n        Add a new glyph\n    ")]),r("div",{staticClass:"text-fields btn"},[r("v-text-field",{attrs:{label:"Enter glyph name"},model:{value:e.newGlyphName,callback:function(t){e.newGlyphName=t},expression:"newGlyphName"}}),r("v-select",{attrs:{items:e.glyphNames,label:"Choose glyph type"},on:{change:e.glyphTypeSetter},model:{value:e.selectedGlyphName,callback:function(t){e.selectedGlyphName=t},expression:"selectedGlyphName"}}),r("v-select",{staticClass:"selector",attrs:{outlined:"",items:e.glyphSettings.options,label:e.glyphSettings.message||"Choose glyph-specific options"},on:{change:e.glyphSettingsSetter},model:{value:e.selectedGlyphSetting,callback:function(t){e.selectedGlyphSetting=t},expression:"selectedGlyphSetting"}}),r("v-btn",{staticClass:"btn add-button dark white--text",attrs:{small:""},on:{click:e.addNewGlyph}},[e._v("\n            Add\n        ")])],1),r("v-btn",{staticClass:"btn close-button",attrs:{round:"",flat:""},on:{click:function(t){return e.setGlyphAdderState(!1)}}},[r("v-icon",{attrs:{color:"primary"}},[e._v("close")])],1),r("div",{ref:"glyphBox",staticClass:"canvas-box",attrs:{id:"glyph-box"}},[r("v-select",{staticClass:"btn",attrs:{items:e.glyphs.map(function(e){return e.id}),label:"Select glyph to visualize",outlined:""},on:{change:e.viewGlyph},model:{value:e.selectedGlyphId,callback:function(t){e.selectedGlyphId=t},expression:"selectedGlyphId"}})],1)],1)},Pt=[];r("20d6");function Ct(e,t){var r=e.width*t,a=e.height*t;return{left:e.left+e.width/2-r/2,top:e.top+e.height/2-a/2,x:e.x+e.width/2-r/2,y:e.y+e.height/2-a/2,width:r,height:a}}var Gt={name:"GlyphAdder",data:function(){return{newGlyphName:"",selectedGlyphName:"",selectedGlyphId:"",selectedGlyphSetting:"",glyphBoundingRect:{top:0,bottom:0,left:0,right:0,width:0,height:0},leftShift:0,topShift:0,widthProportion:1,heightProportion:1}},computed:Object(m["a"])({},Object(g["d"])({glyphs:function(e){return e.glyph.project.glyphs},glyphTypes:function(e){return e.glyph.glyphTypes},glyphSettings:function(e){return e.glyph.glyphSettings}}),{glyphNames:function(){var e=[];return this.glyphTypes.forEach(function(t){return e.push(t.type)}),e}}),methods:Object(m["a"])({},Object(g["b"])({setGlyphAdderState:"app/setGlyphAdderState",setGlyphType:"glyph/setGlyphType",reassignGlyphLayer:"glyph/reassignGlyphLayer",setEditorBox:"app/setEditorBox",updateGlyphArrangement:"app/updateGlyphArrangement",activateRedrawing:"glyph/activateRedrawing",setGlyphVisibility:"glyph/setGlyphVisibility",setStudioDrawerState:"app/setStudioDrawerState",setShapeCanvasState:"app/setShapeCanvasState",makeEmptyGlyphs:"glyph/makeEmptyGlyphs"}),{updateBoxRects:function(){var e=this;this.selectedGlyphId&&(this.setGlyphVisibility({value:!1,glyphSelector:this.selectedGlyphId}),setTimeout(function(){return e.setGlyphVisibility({value:!0,glyphSelector:e.selectedGlyphId})},1e3));var t=document.getElementById("glyph-canvas").getBoundingClientRect(),r=this.$refs.glyphBox.getBoundingClientRect();this.glyphBoundingRect=Ct({left:r.left-t.left,top:r.top-t.top,x:r.left-t.left,y:r.top-t.top,width:r.width,height:r.height},.7),this.setEditorBox({index:this.glyphs.findIndex(function(t){return t.id===e.selectedGlyphId}),boundingRect:this.glyphBoundingRect})},viewGlyph:function(e){var t=this;this.setGlyphVisibility({value:!1,glyphSelector:"all"}),this.setEditorBox({index:this.glyphs.findIndex(function(t){return t.id===e}),boundingRect:this.glyphBoundingRect}),this.updateGlyphArrangement(),setTimeout(function(){return t.setGlyphVisibility({value:!0,glyphSelector:t.selectedGlyphId})},1e3)},addNewGlyph:function(){this.makeEmptyGlyphs({newGlyphName:this.newGlyphName}),console.log("Adding new glyph: ".concat(this.newGlyphName))},glyphTypeSetter:function(e){"None"!==this.selectedGlyphName&&this.setGlyphType({glyphTypeName:e,glyphSetting:this.selectedGlyphSetting})},glyphSettingsSetter:function(e){"None"!==this.selectedGlyphName&&this.setGlyphType({glyphTypeName:this.selectedGlyphName,glyphSetting:e}),"shapeType"===this.glyphSettings.name&&"customShape"===e&&(this.setStudioDrawerState(!0),this.setShapeCanvasState(!0))}}),beforeDestroy:function(){this.drawGlyphTool&&this.drawGlyphTool.remove()}},Nt=Gt,Ot=(r("ce109"),Object(h["a"])(Nt,kt,Pt,!1,null,"9474f972",null)),jt=Ot.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"light elevation-5"},[e.fileName?r("v-layout",[r("v-card-text",{staticClass:"deep-purple--text font-weight-black"},[e._v("\n      Now add some glyphs !\n    ")]),r("app-bind",{attrs:{color:"grey"}})],1):r("v-layout",{attrs:{id:"welcome-message"}},[r("v-card-text",{staticClass:"deep-purple--text font-weight-black"},[e._v("\n      Upload a data file")]),r("app-load-data",{attrs:{"unique-id":"welcomeUpload"}})],1),e.fileName?r("v-layout",[r("v-card-text",{staticClass:"deep-purple--text font-weight-black"},[e._v("\n      Or load a previous configuration file\n    ")]),r("app-load-config",{on:{configLoaded:e.notifyLoad}})],1):e._e()],1)},Bt=[],Ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("upload-btn",{attrs:{uniqueId:"",title:"UploadConfig",large:"",color:"light",icon:""},on:{"file-update":e.loadConfig}},[r("template",{slot:"icon"},[r("v-icon",{attrs:{color:"deep-purple"}},[e._v("attach_file")])],1)],2)},zt=[],Dt=(r("96cf"),r("3b8d")),Et={name:"LoadConfig",components:{"upload-btn":P.a},methods:Object(m["a"])({},Object(g["b"])({readBindingsFile:"backend/readBindingsFile"}),{loadConfig:function(){var e=Object(Dt["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBindingsFile(t);case 2:this.$emit("configLoaded");case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()})},_t=Et,Rt=Object(h["a"])(_t,Ft,zt,!1,null,null,null),At=Rt.exports,It={name:"WelcomeCard",components:{"app-load-data":O,"app-bind":Pe,"app-load-config":At},computed:Object(m["a"])({},Object(g["d"])({welcomeCard:function(e){return e.app.welcomeCard},glyphBinder:function(e){return e.app.glyphBinder},shapeManager:function(e){return e.app.shapeManager},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs},fileName:function(e){return e.backend.fileName}})),methods:Object(m["a"])({},Object(g["b"])({setWelcomeCardState:"app/setWelcomeCardState"}),{notifyLoad:function(){this.$emit("configLoaded"),this.setWelcomeCardState(!1)}}),watch:{numDisplayedGlyphs:function(){0===this.numDisplayedGlyphs?this.setWelcomeCardState(!0):this.welcomeCard&&this.setWelcomeCardState(!1)},glyphBinder:function(){this.glyphBinder&&this.setWelcomeCardState(!1)},shapeManager:function(){this.shapeManager&&this.setWelcomeCardState(!1)}}},Lt=It,Mt=Object(h["a"])(Lt,Tt,Bt,!1,null,"092949dd",null),Vt=Mt.exports,Wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.updateBoxRects,expression:"updateBoxRects"}],staticClass:"light elevation-5",attrs:{id:"content"}},[r("div",{ref:"glyphBox",staticClass:"canvas-box",attrs:{id:"glyph-box"}})])},Ht=[];function $t(e,t){var r=e.width*t,a=e.height*t;return{left:e.left+e.width/2-r/2,top:e.top+e.height/2-a/2,x:e.x+e.width/2-r/2,y:e.y+e.height/2-a/2,width:r,height:a}}var Jt={name:"LegendViewer",data:function(){return{selectedGlyphId:"",glyphBoundingRect:{top:0,bottom:0,left:0,right:0,width:0,height:0}}},computed:Object(m["a"])({},Object(g["d"])({glyphs:function(e){return e.glyph.project.glyphs},glyphTypes:function(e){return e.glyph.glyphTypes},glyphSettings:function(e){return e.glyph.glyphSettings}}),{glyphNames:function(){var e=[];return this.glyphTypes.forEach(function(t){return e.push(t.type)}),e}}),methods:Object(m["a"])({},Object(g["b"])({setEditorBox:"app/setEditorBox",updateGlyphArrangement:"app/updateGlyphArrangement",setGlyphVisibility:"glyph/setGlyphVisibility"}),{updateBoxRects:function(){var e=this;this.selectedGlyphId&&(this.setGlyphVisibility({value:!1,glyphSelector:this.selectedGlyphId}),setTimeout(function(){return e.setGlyphVisibility({value:!0,glyphSelector:e.selectedGlyphId})},1e3));var t=document.getElementById("glyph-canvas").getBoundingClientRect(),r=this.$refs.glyphBox.getBoundingClientRect();this.glyphBoundingRect=$t({left:r.left-t.left,top:r.top-t.top,x:r.left-t.left,y:r.top-t.top,width:r.width,height:r.height},.7)},viewGlyph:function(e){var t=this;this.setGlyphVisibility({value:!1,glyphSelector:"all"}),this.setEditorBox({index:this.glyphs.findIndex(function(t){return t.id===e}),boundingRect:this.glyphBoundingRect}),this.updateGlyphArrangement(),setTimeout(function(){return t.setGlyphVisibility({value:!0,glyphSelector:t.selectedGlyphId})},1e3)}})},Ut=Jt,qt=(r("1381"),Object(h["a"])(Ut,Wt,Ht,!1,null,"b20822b6",null)),Xt=qt.exports,Yt={name:"UIView",data:function(){return{boundingRects:[],page:1,drawing:!1}},components:{"app-glyph-canvas":at,"app-bind-options":gt,"app-shape-manager":St,"app-glyph-adder":jt,"app-legend-viewer":Xt,"app-welcome-card":Vt},computed:Object(m["a"])({},Object(g["d"])({welcomeCard:function(e){return e.app.welcomeCard},glyphBinder:function(e){return e.app.glyphBinder},shapeManager:function(e){return e.app.shapeManager},glyphAdder:function(e){return e.app.glyphAdder},canvas:function(e){return e.app.canvas},legendViewer:function(e){return e.app.legendViewer},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs}})),methods:Object(m["a"])({},Object(g["b"])({updateGlyphArrangement:"app/updateGlyphArrangement"}),{applyBinding:function(){this.$refs.bonds.applyConfig(),this.$refs.bonds.applyBinding()}}),mounted:function(){this.updateGlyphArrangement()}},Zt=Yt,Kt=(r("654c"),Object(h["a"])(Zt,Ue,qe,!1,null,"16f754aa",null)),Qt=Kt.exports,er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{id:"studio-drawer",fixed:"",clipped:"",value:this.studioDrawer,app:"",right:"","mobile-break-point":"1000",dark:""},on:{input:e.updateStudioDrawerState}},[r("div",{staticClass:"pointers-please studioPanel elevation-1"},[r("app-viz-props",{directives:[{name:"show",rawName:"v-show",value:!e.glyphBinder,expression:"!glyphBinder"}],attrs:{shapeName:e.shapeName},on:{"update:shapeName":function(t){e.shapeName=t},"update:shape-name":function(t){e.shapeName=t}}}),r("app-positioner",{attrs:{"shape-name":e.shapeName}}),r("app-chart-controller")],1)])},tr=[],rr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{staticClass:"panel",attrs:{flat:""}},[r("v-divider"),r("v-toolbar",{attrs:{color:"dark",flat:"",dense:""}},[r("div",{staticClass:"select-title"},[r("v-select",{attrs:{items:Array.from(e.glyphNames),dense:"",label:"Glyph Shape",disabled:Boolean(e.rebinding)},on:{change:function(t){return e.$emit("update:shapeName",e.selectedShapeName)}},model:{value:e.selectedShapeName,callback:function(t){e.selectedShapeName=t},expression:"selectedShapeName"}})],1)]),r("v-toolbar",{attrs:{id:"toolbar",color:"dark",flat:"",dense:""}},[r("div",{staticClass:"select-title"},[r("v-select",{attrs:{items:e.shapeElements.map(function(e){return e.name}),dense:"",label:"Glyph Element",disabled:"field"===e.rebinding},on:{change:e.onSelectElementName},model:{value:e.selectedElementName,callback:function(t){e.selectedElementName=t},expression:"selectedElementName"}})],1),r("div",{staticClass:"select-title"},[r("v-select",{attrs:{items:e.dataFields,dense:"",label:"Data Feature",disabled:"element"===e.rebinding},on:{change:e.onSelectFieldName},model:{value:e.selectedFieldName,callback:function(t){e.selectedFieldName=t},expression:"selectedFieldName"}})],1)]),r("v-list",{attrs:{id:"list"}},[r("v-list-tile",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedElementName,expression:"selectedElementName"}],staticClass:"re-bind"},[r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:"",disabled:Boolean(e.rebinding)}},[e.rebinding?e._e():r("v-btn",{staticClass:"bind-item text--white",attrs:{slot:"activator",icon:"",color:"primary"},on:{click:function(t){e.rebinding="element"}},slot:"activator"},[r("v-icon",{attrs:{color:"white"}},[e._v("nature")])],1),r("span",[e._v("Choose feature to bind to selected element")])],1),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:"",disabled:Boolean(e.rebinding)}},[e.rebinding?e._e():r("v-btn",{staticClass:"bind-item primary--text",attrs:{slot:"activator",icon:"",color:"light"},on:{click:function(t){e.rebinding="field"}},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("texture")])],1),r("span",[e._v("Choose element to bind to selected feature")])],1),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:""}},[e.rebinding?r("v-btn",{staticClass:"bind-item primary--text",attrs:{slot:"activator",icon:"",color:"secondary"},on:{click:e.applyBindingChange},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[e._v("check_circle")])],1):e._e(),r("span",[e._v("Apply selection")])],1),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.rebinding,expression:"rebinding"}],staticClass:"bind-item",attrs:{slot:"activator",icon:"",color:"primary"},on:{click:function(t){e.rebinding=!1}},slot:"activator"},[r("v-icon",{attrs:{color:"white"}},[e._v("cancel")])],1),r("span",[e._v("Cancel selection")])],1),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.rebinding,expression:"!rebinding"}],staticClass:"bind-item",attrs:{slot:"activator",icon:"",color:"white"},on:{click:e.applyUnbinding},slot:"activator"},[r("v-icon",{attrs:{color:"dark"}},[e._v("remove")])],1),r("span",[e._v("Remove selected element-feature binding")])],1)],1)]),r("v-list-tile",[r("v-slider",{directives:[{name:"show",rawName:"v-show",value:e.hasProperties.size,expression:"hasProperties.size"}],staticClass:"text--white",attrs:{color:"secondary",min:e.hasProperties.size?e.selectedElement.properties.size.range[0]:0,max:e.hasProperties.size?e.selectedElement.properties.size.range[1]:100,step:e.hasProperties.size?e.selectedElement.properties.size.step:1,disabled:Boolean(e.rebinding)||"unbound"===e.selectedFieldName},model:{value:e.selectedWidth,callback:function(t){e.selectedWidth=t},expression:"selectedWidth"}},[r("span",{staticClass:"text--white",staticStyle:{display:"inline-block",width:"100px","margin-top":"4px"},attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n            Stroke Size:\n          ")])])],1),r("v-list-tile",[r("span",{directives:[{name:"show",rawName:"v-show",value:e.hasProperties.color,expression:"hasProperties.color"}],staticClass:"text--white"},[e._v("Element color:")]),r("v-spacer"),r("v-dialog",{attrs:{width:"225px",disabled:Boolean(e.rebinding)||"unbound"===e.selectedFieldName},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("a",{directives:[{name:"show",rawName:"v-show",value:e.hasProperties.color,expression:"hasProperties.color"}],attrs:{slot:"activator"},slot:"activator"},[r("div",{staticClass:"color-tile",staticStyle:{position:"relative",right:"135px"},style:{"background-color":e.colorPick.hex}})]),r("v-card",[r("color-picker",{attrs:{id:"picker",disabled:Boolean(e.rebinding)||"unbound"===e.selectedFieldName},model:{value:e.colorPick,callback:function(t){e.colorPick=t},expression:"colorPick"}})],1)],1)],1),r("v-list-tile")],1),r("v-divider")],1)],1)},ar=[],nr=r("75fc"),ir=r("c345"),sr={name:"VizProps",components:{"color-picker":ir["Chrome"]},data:function(){return{rebinding:"",selectedShapeName:"",selectedElementName:"",selectedElement:{name:"",properties:{}},selectedFieldName:"",currentGlyphId:0,selectedWidth:1,selectedRelativeX:.5,selectedRelativeY:.5,colorPick:{hex:""},dialog:!1}},computed:Object(m["a"])({},Object(g["d"])({selection:function(e){return e.glyph.selection},bindings:function(e){return e.glyph.project.bindings},glyphTypes:function(e){return e.glyph.glyphTypes},glyphs:function(e){return e.glyph.project.glyphs},glyphTypeName:function(e){return e.glyph.glyphTypeName},glyphShapes:function(e){return e.glyph.glyphShapes},glyphElements:function(e){return e.glyph.glyphElements},dataFields:function(e){return e.backend.dataFields},fieldTypes:function(e){return e.backend.fieldTypes},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs}}),Object(g["c"])({glyphNames:"glyph/glyphNames"}),{shapeElements:function(){var e=this;if(0===this.glyphs.length||!this.selectedShapeName)return[];var t=Object(nr["a"])(this.glyphs[0].iter()),r=t.find(function(t){return t.name===e.selectedShapeName}).constructor;return r.elements},hasProperties:function(){return{size:Boolean(this.selectedElement.properties.size),color:Boolean(this.selectedElement.properties.color)}}}),methods:Object(m["a"])({},Object(g["b"])({selectGlyphEl:"glyph/selectGlyphEl",setPathParameter:"glyph/setPathParameter",redrawElement:"glyph/redrawElement",deleteElement:"glyph/deleteElement"}),{reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.rebinding=e.rebinding||!1,this.selectedElementName=e.selectedElementName||"",this.selectedElement=e.selectedElement||{name:"",properties:{}},this.selectedFieldName=e.selectedFieldName||"",this.currentGlyphId=e.currentGlyphId||0,this.selectedWidth=e.selectedWidth||1,this.colorPick=e.colorPick||{hex:""},this.dialog=e.dialog||!1},onSelectElementName:function(){var e=this;this.selectGlyphEl({layer:this.selection.layer,path:this.selectedElementName});var t=this.shapeElements.find(function(t){return t.name===e.selectedElementName});if(this.selectedElement=t?this.shapeElements.find(function(t){return t.name===e.selectedElementName}):{name:"",properties:{}},this.selectedElementName&&"element"!==this.rebinding){var r=this.bindings.find(function(t){return t.shape===e.selectedShapeName&&t.element===e.selectedElementName});this.selectedFieldName=r?r.field:"unbound"}},onSelectFieldName:function(){var e=this;if(this.selectedFieldName&&"field"!==this.rebinding){var t=this.bindings.find(function(t){return t.field===e.selectedFieldName});if(t){this.selectedElementName=t.element,this.selectGlyphEl({layer:this.selection.layer,path:t.element});var r=this.shapeElements.find(function(e){return e.name===t.element});r&&(this.selectedElement=r)}else this.selectedElementName="unbound",this.selectedElement={name:"",properties:{}}}},applyBindingChange:function(){var e,t=this,r={element:this.selectedElementName,field:this.selectedFieldName,shape:this.selectedShapeName};if("element"===this.rebinding)e=this.bindings.find(function(e){return e.shape===t.selectedShapeName&&e.field===t.selectedFieldName});else{if("field"!==this.rebinding)throw Error("Shouldn't be here");e=this.bindings.find(function(e){return e.shape===t.selectedShapeName&&e.element===t.selectedElementName})}this.redrawElement(r),this.reset({selectedElementName:r.element,selectedField:r.field}),this.onSelectElementName(),"field"===this.rebinding?(console.log("".concat(this.selectedShapeName,".").concat(this.selectedElementName," was bound to ").concat(this.selectedFieldName)),e&&console.log("(previously bound to ".concat(e.field,")"))):(console.log("".concat(this.selectedFieldName," was bound to ").concat(this.selectedShapeName,".").concat(this.selectedElementName," (previously bound to ").concat(e.element,")")),e&&console.log("(previously bound to ".concat(e.element,")"))),this.rebinding=""},applyUnbinding:function(){var e,t=this;e=this.bindings.find(function(e){return e.shape===t.selectedShapeName&&e.field===t.selectedFieldName&&e.element===t.selectedElementName}),e&&this.deleteElement(e),this.reset()}}),watch:{glyphNames:function(){this.glyphs.length>0&&(this.selectedShapeName=this.glyphs[0].name,this.$emit("update:shapeName",this.selectedShapeName))},selectedWidth:function(){this.numDisplayedGlyphs&&Boolean(this.selectedElementName)&&this.setPathParameter({parameter:"strokeWidth",value:this.selectedWidth,shapeName:this.selectedShapeName,elementName:this.selectedElement.name})},colorPick:function(){this.numDisplayedGlyphs&&Boolean(this.selectedElementName)&&this.setPathParameter({parameter:"strokeColor",value:this.colorPick.hex,shapeName:this.selectedShapeName,elementName:this.selectedElement.name})}}},or=sr,lr=(r("6abf5"),Object(h["a"])(or,rr,ar,!1,null,"68480283",null)),hr=lr.exports,cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{id:"positioner"}},[r("v-divider"),r("span",{staticClass:"app-title light--text subheading"},[e._v("Glyph position:")]),r("div",{staticClass:"move-resize-commands"},[r("v-slider",{staticClass:"control-item position-slider",attrs:{label:"X",min:"0",max:"1",step:"0.05"},on:{change:e.planLeftShift},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0 num-field",attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:e.leftShift,callback:function(t){e.leftShift=t},expression:"leftShift"}})]},proxy:!0}]),model:{value:e.leftShift,callback:function(t){e.leftShift=t},expression:"leftShift"}}),r("v-slider",{staticClass:"control-item position-slider",attrs:{label:"Y",min:"0",max:"1",step:"0.05"},on:{change:e.planTopShift},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0 num-field",attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:e.topShift,callback:function(t){e.topShift=t},expression:"topShift"}})]},proxy:!0}]),model:{value:e.topShift,callback:function(t){e.topShift=t},expression:"topShift"}}),r("v-slider",{staticClass:"control-item position-slider",attrs:{label:"W",min:"0",max:"1",step:"0.05"},on:{change:e.planWidthResize},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0 num-field",attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:e.widthProportion,callback:function(t){e.widthProportion=t},expression:"widthProportion"}})]},proxy:!0}]),model:{value:e.widthProportion,callback:function(t){e.widthProportion=t},expression:"widthProportion"}}),r("v-slider",{staticClass:"control-item position-slider",attrs:{label:"H",min:"0",max:"1",step:"0.05"},on:{change:e.planHeightResize},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0 num-field",attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:e.heightProportion,callback:function(t){e.heightProportion=t},expression:"heightProportion"}})]},proxy:!0}]),model:{value:e.heightProportion,callback:function(t){e.heightProportion=t},expression:"heightProportion"}}),r("div",{staticClass:"move-resize-commands move-options"},[r("v-checkbox",{staticClass:"control-item",attrs:{label:"Children",color:"secondary"},model:{value:e.changeChildren,callback:function(t){e.changeChildren=t},expression:"changeChildren"}}),r("v-btn",{staticClass:"control-item light primary--text",attrs:{icon:""},on:{click:e.planCentering}},[r("v-icon",[e._v("adjust")])],1),r("v-btn",{staticClass:"control-item secondary dark--text",attrs:{icon:""},on:{click:e.resetOriginalPosition}},[r("v-icon",[e._v("undo")])],1)],1)],1),r("v-divider")],1)},pr=[],dr=(r("5df3"),r("4f7f"),r("c8bb2")),ur=r.n(dr),fr={name:"Positioner",props:{shapeName:String},data:function(){return{leftShift:0,topShift:0,widthProportion:1,heightProportion:1,steps:new ur.a(10),changeChildren:!1,totalGlyphNumStore:0,glyphNamesStore:new Set,positionStored:!1}},computed:Object(m["a"])({},Object(g["d"])({glyphs:function(e){return e.glyph.project.glyphs}}),Object(g["c"])({totalGlyphNum:"glyph/totalGlyphNum",glyphNames:"glyph/glyphNames"}),{meanShapeBounds:function(){var e=this.glyphs.reduce(function(e,t){if(t.drawn&&t.box){var r=(t.box.bounds.x-t.box.drawingBounds.x)/t.box.drawingBounds.width;return e+r}return e},0),t=this.glyphs.reduce(function(e,t){if(t.drawn&&t.box){var r=(t.box.bounds.y-t.box.drawingBounds.y)/t.box.drawingBounds.height;return e+r}return e},0),r=this.glyphs.reduce(function(e,t){if(t.drawn&&t.box){var r=t.box.bounds.width/t.box.drawingBounds.width;return e+r}return e},1),a=this.glyphs.reduce(function(e,t){if(t.drawn&&t.box){var r=t.box.bounds.height/t.box.drawingBounds.height;return e+r}return e},1),n=this.glyphs.reduce(function(e,t){return e+Number(t.drawn&&Boolean(t.box))},1);return{leftShift:e/n,topShift:t/n,widthProportion:r/n,heightProportion:a/n}},originalShapePositions:function(){var e=this;if(!Object(nr["a"])(this.glyphNames).some(function(t){return!e.glyphNamesStore.has(t)})&&!Object(nr["a"])(this.glyphNamesStore).some(function(t){return!e.glyphNames.has(t)})&&this.totalGlyphNum===this.totalGlyphNumStore||this.positionStored)return[];var t=[],r=!0,a=!1,n=void 0;try{for(var i,s=this.glyphs[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,l={};if(o.drawn&&Boolean(o.box))for(var h=0,c=Object(nr["a"])(o.iter());h<c.length;h++){var p=c[h];l[p.name]=Object.assign({},p.box.shapePositions)}t.push(l)}}catch(d){a=!0,n=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return t}}),methods:Object(m["a"])({},Object(g["b"])({setShapePosition:"glyph/setShapePosition",changeGlyphPosition:"glyph/changeGlyphPosition"}),{planLeftShift:w.a.call(void 0,function(){this.steps.push({transform:"shift",parameters:[this.leftShift,null,{setValues:!0,drawing:!1,scale:!1,children:!1,redraw:!0}]}),this.applySteps()},400),planTopShift:w.a.call(void 0,function(){this.steps.push({transform:"shift",parameters:[null,this.topShift,{setValues:!0,drawing:!1,scale:!1,children:!1,redraw:!0}]}),this.applySteps()},400),planWidthResize:w.a.call(void 0,function(){this.steps.push({transform:"resize",parameters:[this.widthProportion,null,{setValues:!0,drawing:!1,center:!1,children:!1,redraw:!0}]}),this.applySteps()},400),planHeightResize:w.a.call(void 0,function(){this.steps.push({transform:"resize",parameters:[null,this.heightProportion,{setValues:!0,drawing:!1,center:!1,children:!1,redraw:!0}]}),this.applySteps()},400),planCentering:function(){this.steps.push({transform:"toCenter",parameters:[!0,!0,{setValues:!0,drawing:!1,center:!1,children:!1}]}),this.applySteps(),this.leftShift=this.meanShapeBounds.leftShift,this.topShift=this.meanShapeBounds.topShift},resetOriginalPosition:function(){this.steps.push({transform:"shift",parameters:[this.originalShapePositions[0][this.shapeName].leftShift,this.originalShapePositions[0][this.shapeName].topShift,{setValues:!0,scale:!1,children:!1,redraw:!1}]}),this.applySteps()},applySteps:w.a.call(void 0,function(){this.changeGlyphPosition({steps:this.steps.toArray(),shapeSelector:this.shapeName,children:this.changeChildren}),this.steps.clear()},600)}),watch:{glyph:function(){this.glyphNamesStore=this.glyphNames,this.totalGlyphNumStore=this.totalGlyphNum},originalShapePositions:function(){this.originalShapePositions.length>0&&!this.positionStored&&(this.positionStored=!0)}}},mr=fr,gr=(r("6c95"),Object(h["a"])(mr,cr,pr,!1,null,"3c4e9898",null)),yr=gr.exports,vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.chartController?r("v-card",{attrs:{id:"chart-controller"}},[r("v-divider"),r("span",{staticClass:"app-title light--text subheading"},[e._v("Chart Controller:")]),r("div",{staticClass:"controls-container"},[r("v-select",{staticClass:"control-item",attrs:{items:e.numericFields,dense:"",label:"x-axis"},model:{value:e.xField,callback:function(t){e.xField=t},expression:"xField"}}),r("v-select",{staticClass:"control-item",attrs:{items:e.numericFields,dense:"",label:"y-axis"},model:{value:e.yField,callback:function(t){e.yField=t},expression:"yField"}}),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{staticClass:"primary light--text",attrs:{icon:""},on:{click:e.drawChart_}},[r("v-icon",[e._v("scatter_plot")])],1),r("span",[e._v("View scatterplot of selected features")])],1),r("v-tooltip",{staticClass:"tooltip",attrs:{"open-delay":"700",bottom:""}},[r("v-btn",{staticClass:"secondary dark--text",attrs:{icon:""},on:{click:function(t){return e.setChartState(!1)}}},[r("v-icon",[e._v("close")])],1),r("span",[e._v("Return to standard grid view")])],1)],1),r("v-divider")],1):e._e()},br=[],wr={name:"ChartController",data:function(){return{xField:"",yField:"",chartMetaData:{}}},computed:Object(m["a"])({},Object(g["d"])({chartController:function(e){return e.app.chartController},fieldTypes:function(e){return e.backend.fieldTypes},orderedData:function(e){return e.backend.orderedData}}),{numericFields:function(){for(var e=[],t=0,r=Object.entries(this.fieldTypes);t<r.length;t++){var a=Object(Ze["a"])(r[t],2),n=a[0],i=a[1];i===Number&&e.push(n)}return e}}),methods:Object(m["a"])({},Object(g["b"])({activateSnackbar:"app/activateSnackbar",drawChart:"app/drawChart",setChartState:"app/setChartState"}),{drawChart_:function(){this.xField&&this.yField?this.drawChart({xField:this.xField,yField:this.yField}):this.activateSnackbar({text:"x and y features must be selected to plot chart",color:"warn",timeout:2e3})}})},xr=wr,Sr=(r("0dc5"),Object(h["a"])(xr,vr,br,!1,null,"1c61e6d8",null)),kr=Sr.exports,Pr={name:"Studio",data:function(){return{shapeName:""}},components:{"app-viz-props":hr,"app-positioner":yr,"app-chart-controller":kr},computed:Object(m["a"])({},Object(g["d"])({studioDrawer:function(e){return e.app.studioDrawer},glyphBinder:function(e){return e.app.glyphBinder}})),methods:Object(m["a"])({},Object(g["b"])({setStudioDrawerState:"app/setStudioDrawerState"}),{updateStudioDrawerState:function(e){e||this.setStudioDrawerState(e)}})},Cr=Pr,Gr=(r("d741"),Object(h["a"])(Cr,er,tr,!1,null,"7b685748",null)),Nr=Gr.exports,Or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",{staticClass:"deep-purple--text",attrs:{light:"",app:""}},[r("app-sheet"),r("v-container",{directives:[{name:"show",rawName:"v-show",value:e.numDisplayedGlyphs,expression:"numDisplayedGlyphs"}],attrs:{id:"pagination-container"}},[r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xs8:""}},[r("v-pagination",{directives:[{name:"show",rawName:"v-show",value:!(e.glyphBinder||e.shapeManager),expression:"!(glyphBinder || shapeManager)"}],attrs:{id:"pagination",length:e.numPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.numDisplayedGlyphs,expression:"numDisplayedGlyphs"}],attrs:{id:"order-text"}},[e._v("Order:")]),r("div",{attrs:{id:"order-select"}},[r("v-select",{directives:[{name:"show",rawName:"v-show",value:e.numDisplayedGlyphs,expression:"numDisplayedGlyphs"}],attrs:{items:["file entries"].concat(e.dataFields),dense:""},model:{value:e.selectedOrderField,callback:function(t){e.selectedOrderField=t},expression:"selectedOrderField"}})],1),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.numDisplayedGlyphs,expression:"numDisplayedGlyphs"}],attrs:{flat:"",icon:""},on:{click:e.reorderGlyphs}},[r("v-icon",{attrs:{color:"primary"}},[e._v("reorder")])],1)],1)},jr=[],Tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-btn",{attrs:{color:"primary",dark:"",small:""}},[e._v("\n      View Data\n    ")])]},proxy:!0}]),model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[r("app-table")],1)},Br=[],Fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{staticClass:"elevation-1",attrs:{id:"table",headers:e.headers,items:e.parsedData,"no-results-text":"Load a feature file to display features"},scopedSlots:e._u([{key:"items",fn:function(t){return e._l(e.features,function(a){return r("td",{key:a,staticClass:"text-xs-right"},[e._v("\n      "+e._s(t.item[a].slice(0,Math.min(5,t.item[a].length)))+"\n    ")])})}}])})},zr=[],Dr={name:"Table",data:function(){return{maxColumns:4}},computed:Object(m["a"])({},Object(g["d"])({parsedData:function(e){return e.backend.parsedData},glyphs:function(e){return e.glyph.project.glyphs},numDisplayedGlyphs:function(e){return e.glyph.numDisplayedGlyphs}}),{features:function(){return this.parsedData.length>0?Object.keys(this.parsedData[0]):[]},headers:function(){var e=[];return this.features.forEach(function(t){e.push({text:t,value:t})}),e}})},Er=Dr,_r=(r("1f0e"),Object(h["a"])(Er,Fr,zr,!1,null,"cb500356",null)),Rr=_r.exports,Ar={name:"Sheet",components:{"app-table":Rr},data:function(){return{sheet:!1}}},Ir=Ar,Lr=Object(h["a"])(Ir,Tr,Br,!1,null,"4b860324",null),Mr=Lr.exports,Vr={name:"LowerToolbar",components:{"app-sheet":Mr},data:function(){return{page:1,selectedOrderField:"file entries"}},computed:Object(m["a"])({},Object(g["d"])({glyphBinder:function(e){return e.app.glyphBinder},shapeManager:function(e){return e.app.shapeManager},numDisplayedGlyphs:function(e){return e.app.numDisplayedGlyphs},glyphs:function(e){return e.glyph.project.glyphs},numPages:function(e){return e.app.numPages},dataFields:function(e){return e.backend.dataFields},fieldTypes:function(e){return e.backend.fieldTypes}})),methods:Object(m["a"])({},Object(g["b"])({shiftLayersAssignment:"glyph/shiftLayersAssignment",changeCurrentPage:"app/changeCurrentPage",orderDataByValue:"backend/orderDataByValue"}),{reorderGlyphs:function(){this.orderDataByValue(this.selectedOrderField)}}),watch:{page:function(){this.shiftLayersAssignment({startIndex:(this.page-1)*this.numDisplayedGlyphs,endIndex:this.page*this.numDisplayedGlyphs}),this.changeCurrentPage(this.page)}}},Wr=Vr,Hr=(r("a6c7"),Object(h["a"])(Wr,Or,jr,!1,null,"348dda66",null)),$r=Hr.exports,Jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{value:e.active,color:e.color,timeout:0,top:""}},[e._v("\n  "+e._s(e.text)+"\n")])},Ur=[],qr={computed:Object(m["a"])({},Object(g["d"])({active:function(e){return e.app.snackbar.active},text:function(e){return e.app.snackbar.text},color:function(e){return e.app.snackbar.color},timeout:function(e){return e.app.snackbar.timeout}})),methods:Object(m["a"])({},Object(g["b"])({dismissSnackbar:"app/dismissSnackbar"})),watch:{active:function(e){var t=this;e&&this.timeout>0&&setTimeout(function(){t.dismissSnackbar()},this.timeout)}}},Xr=qr,Yr=Object(h["a"])(Xr,Jr,Ur,!1,null,null,null),Zr=Yr.exports,Kr={name:"Editor",components:{"app-toolbar":ge,"app-tools":Je,"app-view":Qt,"app-studio":Nr,"app-lower-toolbar":$r,"app-snackbar":Zr},computed:Object(m["a"])({},Object(g["d"])({toolbar:function(e){return e.app.toolbar},footer:function(e){return e.app.footer},toolsDrawer:function(e){return e.app.toolsDrawer}})),methods:Object(m["a"])({},Object(g["b"])({getArrayOfTemplates:"template/getArrayOfTemplates"})),mounted:function(){console.log("loading array of templates ..."),this.getArrayOfTemplates()}},Qr=Kr,ea=(r("aa19"),Object(h["a"])(Qr,u,f,!1,null,"29c570d2",null)),ta=ea.exports;a["default"].use(d["a"]);var ra=new d["a"]({routes:[{path:"/",name:"Dashboard",component:ta}]}),aa=(r("55dd"),r("6c7b"),"#424242"),na="#757575";function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{xRange:[0,1],yRange:[0,1],offsetFraction:.1,endFraction:.05,strokeWidth:1.5,strokeColor:aa,minTickNumber:6,tickSpacing:100},t=new Qe.a.Layer({name:"chart"});t.activate();var r=e.xRange,a=e.yRange,n=e.offsetFraction,i=e.endFraction,s=e.strokeWidth,o=e.strokeColor,l=e.tickSpacing,h=e.minTickNumber;if(n<i)throw Error("Cannot extend axis out of canvas (enforce offsetFraction < endFraction)");var c=Qe.a.view.viewSize.width,p=Qe.a.view.viewSize.height,d=[n*c,(1-n)*p],u=[(1-n+i)*c,d[1]],f=[d[0],(n-i)*p],m=new Qe.a.Path.Line(new Qe.a.Point(d),new Qe.a.Point(u)),g=new Qe.a.Path.Line(new Qe.a.Point(d),new Qe.a.Point(f));m.strokeWidth=s,m.strokeColor=o,g.strokeWidth=s,g.strokeColor=o;var y=(1-n)*c-d[0],v=d[1]-n*p,b=Math.round(y/l)+1,w=Math.round(v/l)+1,x=b>=h?l:y/(h+1),S=w>=h?l:v/(h+1);b=b>=h?b:h,w=w>=h?w:h;for(var k,P,C,G=30,N=0;N<b;N++){var O=new Qe.a.PointText({point:[d[0]+N*x,d[1]+G],content:(r[1]/(b-1)*N+r[0]).toFixed(2),fillColor:"black",fontFamily:"Courier New",fontWeight:"bold",fontSize:15}),j=new Qe.a.Path.Line(new Qe.a.Point(d[0]+N*x,d[1]),new Qe.a.Point(d[0]+N*x,f[1]));j.strokeWidth=s/2,j.strokeColor=na,j.strokeCap="round",j.dashArray=[10,12],k=O.bounds.width,P=d[0]+N*x}for(var T=G+k,B=0;B<w;B++){new Qe.a.PointText({point:[d[0]-T,d[1]-B*S],content:(a[1]/(w-1)*B+a[0]).toFixed(2),fillColor:"black",fontFamily:"Courier New",fontWeight:"bold",fontSize:15});var F=new Qe.a.Path.Line(new Qe.a.Point(d[0],d[1]-B*S),new Qe.a.Point(u[0],d[1]-B*S));F.strokeWidth=s/2,F.strokeColor=na,F.strokeCap="round",F.dashArray=[10,12],C=d[1]-B*S}return{origin:d,xSpanEnd:P,ySpanEnd:C}}var sa={changeDisplayedGlyphMax:function(e,t){var r=20;t>r?(console.warn("Max number of displayed glyphs exceeded, setting to constant instead (".concat(t," > ").concat(r,")")),e.maxDisplayedGlyphs=r):(console.log("Max number of displayed glyphs changed to ".concat(t)),e.maxDisplayedGlyphs=t)},changeDisplayedGlyphNum:function(e,t){var r=t.numDisplayedGlyphs,a=t.glyphs;a.forEach(function(e){e.drawn&&e.reset()}),e.numDisplayedGlyphs=Math.min(e.maxDisplayedGlyphs,r),e.numPages=Math.ceil(a.length/Math.max(e.numDisplayedGlyphs,1)),console.log("Number of displayed glyphs changed to ".concat(r," (on ").concat(e.numPages," pages)"))},changeCurrentPage:function(e,t){e.currentPage=t},setBoundingRects:function(e,t){e.boundingRects=t},activateSnackbar:function(e,t){var r=t.text,a=t.color,n=t.timeout;e.snackbar.active=!0,e.snackbar.text=r||"notification",e.snackbar.color=a||"info",e.snackbar.timeout=n||4e3},dismissSnackbar:function(e){return e.snackbar.active=!1},toolbarOff:function(e){return e.toolbar=!1},toolbarOn:function(e){return e.toolbar=!0},toggleToolsDrawer:function(e){return e.toolsDrawer=!e.toolsDrawer},toggleStudioDrawer:function(e){return e.studioDrawer=!e.studioDrawer},setToolsDrawerState:function(e,t){return e.toolsDrawer=t},setStudioDrawerState:function(e,t){return e.studioDrawer=t},setGlyphBinderState:function(e,t){return e.glyphBinder=t},setShapeManagerState:function(e,t){return e.shapeManager=t},setGlyphAdderState:function(e,t){return e.glyphAdder=t},setShapeCanvasState:function(e,t){return e.shapeCanvas=t},setWelcomeCardState:function(e,t){return e.welcomeCard=t},setChartControllerState:function(e,t){return e.chartController=t},setLegendViewerState:function(e,t){return e.legendViewer=t},setGlyphArrangement:function(e,t){return e.glyphArrangement=t},updateGlyphArrangement:function(e){var t;if(e.numDisplayedGlyphs){if("grid"===e.glyphArrangement){t=[];var r=Math.round(Math.sqrt(e.numDisplayedGlyphs*(Qe.a.view.viewSize.width/Qe.a.view.viewSize.height))),a=Math.round(e.numDisplayedGlyphs/r);r*a<e.numDisplayedGlyphs&&r++;for(var n=Qe.a.view.viewSize.width/(r+1),i=Qe.a.view.viewSize.height/(a+1),s=Math.min(n,i)*e.boundingRectSizeFactor-.5,o=0,l="x-offset: ".concat(n.toFixed(2),"; y-offset: ").concat(i.toFixed(2),"; width: ").concat(s.toFixed(2),"; height: ").concat(s.toFixed(2)),h=(Qe.a.view.element.getBoundingClientRect(),0);h<a;h++)for(var c=0;c<r;c++)o<e.numDisplayedGlyphs&&(t.push({width:s,height:s,left:n*(c+.3),top:i*(h+.3),x:n*(c+.3),y:i*(h+.3),generator:{type:"grid",id:l}}),o++);console.log("Updating grid for (".concat(Qe.a.view.viewSize.width,", ").concat(Qe.a.view.viewSize.height,")-view --\x3e ")+l)}else if("editor"===e.glyphArrangement){t=Array(e.numDisplayedGlyphs).fill({top:0,left:0,x:0,y:0,width:0,height:0,generator:{type:"editor",id:e.editorBox.index}},0,e.numDisplayedGlyphs);var p=e.editorBox.boundingRect;if(p.generator={type:"editor",id:e.editorBox.index},p.width!==p.height){var d=Math.min(p.width,p.height);p.width=d,p.height=d}t[e.editorBox.index]=p,console.log("Visualising glyph #".concat(e.editorBox.index))}else if("chart"===e.glyphArrangement){if(0===e.chartPoints.length)throw Error("'chart' glyph arrangement requires non-empty points array");t=[];var u=[],f=[],m=!0,g=!1,y=void 0;try{for(var v,b=e.chartPoints[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var w=v.value,x=1e5,S=1e5,k=!0,P=!1,C=void 0;try{for(var G,N=e.chartPoints[Symbol.iterator]();!(k=(G=N.next()).done);k=!0){var O=G.value;if(w.x!==O.x||w.y!==O.y){var j=Math.abs(w.x-O.x);j<x&&(x=j);var T=Math.abs(w.y-O.y);T<S&&(S=T)}}}catch(L){P=!0,C=L}finally{try{k||null==N.return||N.return()}finally{if(P)throw C}}u.push(x),f.push(S)}}catch(L){g=!0,y=L}finally{try{m||null==b.return||b.return()}finally{if(g)throw y}}var B=Math.min(Qe.a.view.viewSize.width/Math.ceil(Math.sqrt(e.numDisplayedGlyphs+1)),Qe.a.view.viewSize.height/Math.ceil(Math.sqrt(e.numDisplayedGlyphs+1)))*e.boundingRectSizeFactor-.5,F=Math.max(Math.min.apply(Math,u.concat(f)),B),z=!0,D=!1,E=void 0;try{for(var _,R=e.chartPoints[Symbol.iterator]();!(z=(_=R.next()).done);z=!0){var A=_.value,I={left:A.x-F/2,top:A.y-F/2,x:A.x-F/2,y:A.y-F/2,width:F,height:F,generator:{type:"chart",id:"".concat(A.x,", ").concat(A.y)}};t.push(I)}}catch(L){D=!0,E=L}finally{try{z||null==R.return||R.return()}finally{if(D)throw E}}}else if(e.glyphArrangement)throw Error("Unknown glyph arrangement type ".concat(e.glyphArrangement))}else t=Object(nr["a"])(e.boundingRects);e.boundingRects=t},setEditorBox:function(e,t){return e.editorBox=t},setBoundingRectSizeFactor:function(e,t){e.boundingRectSizeFactor=t},setChartState:function(e,t){return e.chart=t},setChartPoints:function(e,t){var r=t.xField,a=t.yField,n=t.backend;if(!e.axesPoints)throw Error("Cannot compute chart points without axis data");e.chartXField=r,e.chartYField=a;var i=Object(nr["a"])(n.normalizedData),s=Math.min.apply(Math,Object(nr["a"])(n.normalizedData.map(function(t){return t[e.chartXField]}))),o=Math.max.apply(Math,Object(nr["a"])(n.normalizedData.map(function(t){return t[e.chartXField]}))),l=Math.min.apply(Math,Object(nr["a"])(n.normalizedData.map(function(t){return t[e.chartYField]}))),h=Math.max.apply(Math,Object(nr["a"])(n.normalizedData.map(function(t){return t[e.chartYField]})));i.sort(function(e,t){return n.dataDisplayOrder.indexOf(e[n.orderField])-n.dataDisplayOrder.indexOf(t[n.orderField])}),0!==e.numDisplayedGlyphs&&i.splice(e.numDisplayedGlyphs,i.length-e.numDisplayedGlyphs);var c=e.axesPoints.xSpanEnd-e.axesPoints.origin[0],p=e.axesPoints.origin[1]-e.axesPoints.ySpanEnd;e.chartPoints=i.map(function(t){var n=(t[r]-s)/(o-s),i=(t[a]-l)/(h-l),d=[n*c+e.axesPoints.origin[0],e.axesPoints.origin[1]-i*p];return d.x=d[0],d.y=d[1],d})},drawAxes:function(e,t){var r=t.featuresRanges,a=t.xField,n=t.yField;e.chartXfield=a,e.chartYfield=n;var i="#424242";e.axesPoints=ia({xRange:r[e.chartXfield],yRange:r[e.chartYfield],offsetFraction:.1,endFraction:.05,strokeWidth:1.5,strokeColor:i,minTickNumber:6,tickSpacing:100})},destroyAxes:function(){var e=Qe.a.project.getItem({name:"chart"});e&&e.remove()}},oa={changeDisplayedGlyphNum:function(e,t){var r=e.commit,a=e.rootState;return r("changeDisplayedGlyphNum",{numDisplayedGlyphs:t,glyphs:a.glyph.project.glyphs})},changeCurrentPage:function(e,t){var r=e.commit;return r("changeCurrentPage",t)},setBoundingRects:function(e,t){var r=e.commit;return r("setBoundingRects",t)},toolbarOff:function(e){var t=e.commit;return t("toolbarOff")},toolbarOn:function(e){var t=e.commit;return t("toolbarOn")},toggleToolsDrawer:function(e){var t=e.commit;return t("toggleToolsDrawer")},setToolsDrawerState:function(e,t){var r=e.commit;return r("setToolsDrawerState",t)},toggleStudioDrawer:function(e){var t=e.commit;return t("toggleStudioDrawer")},setStudioDrawerState:function(e,t){var r=e.commit;return r("setStudioDrawerState",t)},removeWindows:function(e){var t=e.commit;t("setGlyphBinderState",!1),t("setShapeManagerState",!1),t("setGlyphAdderState",!1),t("setWelcomeCardState",!1),t("setLegendViewerState",!1),t("setChartState",!1),t("glyph/removeTempLayer",null,{root:!0})},setGlyphBinderState:function(e,t){var r=e.commit,a=e.dispatch;t?(a("glyph/setGlyphVisibility",{value:!1},{root:!0}),a("removeWindows")):setTimeout(a,200,"glyph/setGlyphVisibility",{value:!0},{root:!0}),r("setGlyphBinderState",t)},setShapeManagerState:function(e,t){var r=e.commit,a=e.dispatch;t?(a("glyph/setGlyphVisibility",{value:!1},{root:!0}),a("removeWindows"),a("glyph/makeTempLayer",null,{root:!0})):(setTimeout(a,500,"glyph/setGlyphVisibility",{value:!0},{root:!0}),a("glyph/removeTempLayer",null,{root:!0})),r("setShapeManagerState",t)},setGlyphAdderState:function(e,t){var r=e.commit,a=e.dispatch;t?(a("glyph/setGlyphVisibility",{value:!1},{root:!0}),a("removeWindows"),a("setGlyphArrangement","editor")):(setTimeout(a,500,"glyph/setGlyphVisibility",{value:!0},{root:!0}),a("setGlyphArrangement","grid")),r("setGlyphAdderState",t)},setLegendViewer:function(e,t){var r=e.commit,a=e.dispatch;t?(a("glyph/setGlyphVisibility",{value:!1},{root:!0}),a("removeWindows"),a("glyph/makeTempLayer",null,{root:!0})):(setTimeout(a,200,"glyph/setGlyphVisibility",{value:!0},{root:!0}),a("glyph/removeTempLayer",null,{root:!0})),r("setLegendViewerState",t)},setShapeCanvasState:function(e,t){var r=e.commit;return r("setShapeCanvasState",t)},setWelcomeCardState:function(e,t){var r=e.commit;return r("setWelcomeCardState",t)},setChartControllerState:function(e,t){var r=e.commit;return r("setChartControllerState",t)},dismissSnackbar:function(e){var t=e.commit;return t("dismissSnackbar")},activateSnackbar:function(e,t){var r=e.commit;return r("activateSnackbar",t)},setGlyphArrangement:function(e,t){var r=e.commit,a=e.dispatch;r("setGlyphArrangement",t),a("updateGlyphArrangement")},updateGlyphArrangement:Object(b["debounce"])(function(e){var t=e.commit;return t("updateGlyphArrangement")},200),setEditorBox:function(e,t){var r=e.commit;return r("setEditorBox",t)},setBoundingRectSizeFactor:function(e,t){var r=e.commit;return r("setBoundingRectSizeFactor",t)},setChartState:function(e,t){var r=e.commit,a=e.dispatch;r("setChartState",t),t||(r("destroyAxes"),r("setGlyphArrangement","grid"),r("updateGlyphArrangement"),a("glyph/removeShrinkRegrowAnimation",null,{root:!0}))},drawChart:function(e){var t=e.rootState,r=e.state,a=e.dispatch,n=e.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{xField:r.chartXField,yField:r.chartYField};n("setChartState",!1),n("setChartState",!0),n("drawAxes",{featuresRanges:t.backend.featuresRanges,xField:i.xField,yField:i.yField}),i.backend=t.backend,n("setChartPoints",i),n("setGlyphArrangement","chart"),n("updateGlyphArrangement"),setTimeout(function(){return a("glyph/addShrinkRegrowAnimation",null,{root:!0})},1e3)},setChartPoints:function(e,t){var r=e.commit;return r("setChartPoints",t)}},la=r("c9eb"),ha=r.n(la),ca={toolbar:!0,toolsDrawer:!0,studioDrawer:!1,footer:!0,snackbar:{active:!1,text:"this is a notification",color:"info",timeout:4e3},glyphBinder:!1,shapeManager:!1,glyphAdder:!1,canvas:!0,shapeCanvas:!1,welcomeCard:!0,chartController:!0,legendViewer:!1,maxDisplayedGlyphs:20,numDisplayedGlyphs:0,boundingRectSizeFactor:1,boundingRects:[],glyphArrangement:"grid",numPages:0,currentPage:1,editorBox:{id:"",boundingRect:{top:0,left:0,width:0,height:0}},axesPoints:null,chart:!1,chartXField:"",chartYField:"",chartPoints:[]},pa={namespaced:!0,state:ca,getters:ha.a,actions:oa,mutations:sa},da=(r("f400"),r("7618")),ua=r("bc3a"),fa=r.n(ua),ma=function(e){var t=new FileReader;return new Promise(function(r,a){t.onerror=function(){t.abort(),a(new DOMException("Problem parsing input file."))},t.onload=function(){r(t.result)},t.readAsText(e)})},ga={readDataFile:function(){var e=Object(Dt["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.state,n=t.dispatch,i=t.commit,console.log(r),r instanceof File){e.next=4;break}throw new TypeError("Input is of type ".concat("undefined"===typeof File?"undefined":Object(da["a"])(File)," (expected type: File)"));case 4:return e.prev=4,e.next=7,ma(r);case 7:s=e.sent,i("updateData",s),i("updateFileName",r.name),i("app/changeDisplayedGlyphMax",a.parsedData.length,{root:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),n("app/activateSnackbar",{text:"Reading of data file failed (possible wrong format)",color:"error",timeout:3e3},{root:!0});case 16:n("normalizeFeatures");case 17:case"end":return e.stop()}},e,null,[[4,13]])}));function t(t,r){return e.apply(this,arguments)}return t}(),readBindingsFile:function(){var e=Object(Dt["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.dispatch,n=t.commit,console.log(r),r instanceof File){e.next=4;break}throw new TypeError("Input is of type ".concat(Object(da["a"])(r)," (expected type: File)"));case 4:return e.prev=4,e.next=7,ma(r);case 7:i=e.sent,n("storeBindings",i),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),a("app/activateSnackbar",{text:"Reading of bindings file failed (possible wrong format)",color:"error",timeout:3e3},{root:!0});case 14:case"end":return e.stop()}},e,null,[[4,11]])}));function t(t,r){return e.apply(this,arguments)}return t}(),normalizeFeatures:function(e){var t=e.commit,r=e.rootState;return t("normalizeFeatures",{bindings:r.glyph.project.bindings,glyphElements:r.glyph.glyphElements})},setNamingField:function(e,t){var r=e.commit;return r("setNamingField",t)},orderDataByValue:function(e,t){var r=e.state,a=e.dispatch,n=e.commit;n("orderDataByValue",t),a("glyph/reassignGlyphIds",r.dataDisplayOrder,{root:!0}),a("glyph/activateRedrawing",{},{root:!0})},setShapeJSON:function(e,t){var r=e.commit;return r("setShapeJSON",t)},storeShapeJSON:function(e,t){var r=e.commit,a=e.dispatch,n=e.state;n.shapeJSONStore.has(t.name)?a("app/activateSnackbar",{text:"Shape ".concat(t.name," already exists - please choose another name or delete existing shape"),color:"error"},{root:!0}):r("storeShapeJSON",t)},removeShapeJSON:function(e,t){var r=e.commit;return r("removeShapeJSON",t)},setVarShapeAssignment:function(e,t){var r=e.commit;return r("setVarShapeAssignment",t)}},ya=(r("1c4c"),r("86ec")),va={updateData:function(e,t){if(null==t||"undefined"===typeof t)throw new RangeError("Unexpected file content");var r=ya(t,{columns:!0,skip_empty_lines:!0,delimiter:","});0===r.length?console.log("Parsing failed to acquire any data"):console.log("Data:",r),e.parsedData=r},updateFileName:function(e,t){e.fileName=t},normalizeFeatures:function(e,t){var r=t.bindings,a=t.glyphElements,n=t.normIntervalLength,i=void 0===n?.8:n;if(i<0||i>1)throw Error("Normalization scaling length must be within [0, 1] (value = ".concat(i,")"));var s=[],o=[],l=!0,h=!1,c=void 0;try{for(var p,d=function(){var e=p.value,t=a.find(function(t){return t.name===e.element});"scale"===t.type&&o.push(e.field)},u=r[Symbol.iterator]();!(l=(p=u.next()).done);l=!0)d()}catch(fe){h=!0,c=fe}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}o.length>0&&s.push(o),e.dataFields=Object.keys(e.parsedData[0]);var f={},m=[];if(!(e.parsedData.length>0))throw new Error("Data has not been parsed yet - cannot normalize");var g=!0,y=!1,v=void 0;try{for(var b,w=e.parsedData[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var x=b.value,S=Object.assign({},x),k=!0,P=!1,C=void 0;try{for(var G,N=e.dataFields[Symbol.iterator]();!(k=(G=N.next()).done);k=!0){var O=G.value,j=x[O];"number"!==typeof+j||isNaN(j)?(S[O]=j,f[O]=String):(S[O]=+j,f[O]=Number)}}catch(fe){P=!0,C=fe}finally{try{k||null==N.return||N.return()}finally{if(P)throw C}}m.push(S)}}catch(fe){y=!0,v=fe}finally{try{g||null==w.return||w.return()}finally{if(y)throw v}}e.fieldTypes=f;var T={};e.dataFields.forEach(function(e){T[e]=[1,0]});for(var B=0;B<m.length;B++){var F=!0,z=!1,D=void 0;try{for(var E,_=e.dataFields[Symbol.iterator]();!(F=(E=_.next()).done);F=!0){var R=E.value;m[B][R]<T[R][0]&&(T[R][0]=m[B][R]),m[B][R]>T[R][1]&&(T[R][1]=m[B][R])}}catch(fe){z=!0,D=fe}finally{try{F||null==_.return||_.return()}finally{if(z)throw D}}}for(var A=0,I=s;A<I.length;A++){var L=I[A],M=1,V=0,W=!0,H=!1,$=void 0;try{for(var J,U=L[Symbol.iterator]();!(W=(J=U.next()).done);W=!0){var q=J.value;T[q][0]<M&&(M=T[q][0]),T[q][1]>V&&(V=T[q][1])}}catch(fe){H=!0,$=fe}finally{try{W||null==U.return||U.return()}finally{if(H)throw $}}var X=!0,Y=!1,Z=void 0;try{for(var K,Q=L[Symbol.iterator]();!(X=(K=Q.next()).done);X=!0){var ee=K.value;T[ee]=[M,V]}}catch(fe){Y=!0,Z=fe}finally{try{X||null==Q.return||Q.return()}finally{if(Y)throw Z}}}e.featuresRanges=T;for(var te=[],re=0;re<m.length;re++){var ae={},ne=!0,ie=!1,se=void 0;try{for(var oe,le=e.dataFields[Symbol.iterator]();!(ne=(oe=le.next()).done);ne=!0){var he=oe.value,ce=m[re][he],pe=e.featuresRanges[he][1]-e.featuresRanges[he][0];ae[he]="number"===typeof ce?i*(m[re][he]-e.featuresRanges[he][0])/pe+(1-i):m[re][he]}}catch(fe){ie=!0,se=fe}finally{try{ne||null==le.return||le.return()}finally{if(ie)throw se}}te.push(ae)}e.normalizedData=te;var de=function(t){var r=new Set(e.normalizedData.map(function(e){return e[t]}));e.featuresRanges[t]=Array.from(r)};for(var ue in e.fieldTypes)de(ue)},setNamingField:function(e,t){e.namingField=t,e.dataDisplayOrder=e.normalizedData.map(function(e){return e[t]})},orderDataByValue:function(e,t){if("file entries"===t)e.dataDisplayOrder=e.normalizedData.map(function(t){return t[e.namingField]});else{var r=e.normalizedData.map(function(e,r){return[e[t],r]});e.fieldTypes[t]===Number?r.sort(function(e,t){return e[0]-t[0]}):r.sort();var a=e.normalizedData.map(function(t){return t[e.namingField]});e.dataDisplayOrder=r.map(function(e){return a[e[1]]}),e.orderField=t}},storeBindings:function(e,t){var r=JSON.parse(t);"string"===typeof r.fileName&&Array.isArray(r.bindings)?(console.log("Bindings",r),e.loadedBindingData=r):console.log("Bindings file has wrong format")},setAvailableTemplates:function(e,t){e.availableTemplates=t},setShapeJSON:function(e,t){return e.shapeJSON=t},storeShapeJSON:function(e,t){var r=t.shapeJSON,a=t.name,n=void 0===a?"":a;if(!n){var i=0;while(e.shapeJSONStore.has(String(i)))i++;n=String(i)}var s=new Map(e.shapeJSONStore);s.set(n,r),e.shapeJSONStore=s},removeShapeJSON:function(e,t){var r=new Map(e.shapeJSONStore);r.delete(t),e.shapeJSONStore=r,e.varShapeAssignment=e.varShapeAssignment.filter(function(e){return e.shape!==t})},setVarShapeAssignment:function(e,t){return e.varShapeAssignment=t}},ba=r("003c"),wa=r.n(ba),xa={fileName:"",parsedData:[],dataFields:[],fieldTypes:[],normalizedData:[],featuresRanges:{},namingField:"",loadedBindingData:{date:"",fileName:"",glyphType:"",namingField:"",bindings:[]},dataDisplayOrder:[],orderField:"file entries",availableTemplates:[],chartPointPositions:[],chart:null,shapeJSON:"",shapeJSONStore:new Map,varShapeAssignment:[]},Sa={namespaced:!0,state:xa,getters:wa.a,actions:ga,mutations:va},ka={setLayersUp:function(e){var t=e.rootState,r=e.commit;return r("setLayersUp",t.app.maxDisplayedGlyphs)},makeTempLayer:function(e){var t=e.commit;return t("makeTempLayer")},removeTempLayer:function(e){var t=e.commit;return t("removeTempLayer")},resetLayers:function(e){var t=e.rootState,r=e.commit;r("resetProject"),r("setLayersUp",t.app.maxDisplayedGlyphs)},setGlyphType:function(e,t){var r=e.commit;return r("setGlyphType",t)},setBindings:function(e,t){var r=e.commit;return r("setBindings",t)},addDataBoundGlyphs:function(e,t){var r=e.rootState,a=e.commit;a("addDataBoundGlyphs",{glyphTypeName:t,parsedData:r.backend.parsedData,namingField:r.backend.namingField})},makeEmptyGlyphs:function(e,t){var r=e.rootState,a=e.commit,n=e.dispatch;0===r.app.numDisplayedGlyphs&&(n("app/changeDisplayedGlyphNum",1,{root:!0}),n("app/updateGlyphArrangement",null,{root:!0})),t.boundingRects=r.app.boundingRects,a("makeEmptyGlyphs",t)},shiftLayersAssignment:function(e,t){var r=e.commit;return r("shiftLayersAssignment",t)},reassignGlyphIds:function(e){var t=e.rootState,r=e.commit;return r("reassignGlyphIds",t.backend.dataDisplayOrder)},reassignGlyphLayer:function(e,t){var r=e.commit;return r("reassignGlyphLayer",t)},drawGlyph:function(e,t){var r=e.rootState,a=e.commit,n=r.backend.dataDisplayOrder[t.glyphIndex];Object.assign(t,{glyphId:n,dataPoint:r.backend.normalizedData.find(function(e){return e[r.backend.namingField]===n}),varShapeAssignment:r.backend.varShapeAssignment,shapeJSONStore:r.backend.shapeJSONStore,glyphBoxes:r.template.currentTemplate.glyphBoxes}),a("drawGlyph",t)},moveGlyph:function(e,t){var r=e.rootState,a=e.commit;t.glyphId=r.backend.dataDisplayOrder[t.glyphIndex],a("moveGlyph",t)},changeGlyphPosition:function(e,t){var r=e.commit;return r("changeGlyphPosition",t)},activateRedrawing:function(e){var t=e.commit;t("setRedrawing",!0),setTimeout(function(){t("setRedrawing",!1)},300)},deleteElement:function(e,t){var r=e.commit;return r("deleteElement",t)},redrawElement:function(e,t){var r=e.rootState,a=e.commit,n=Object(nr["a"])(r.backend.normalizedData);n.sort(function(e,t){return r.backend.fieldTypes[r.backend.namingField]===Number?e[r.backend.namingField]-t[r.backend.namingField]:e[r.backend.namingField].localeCompare(t[r.backend.namingField])}),a("redrawElement",{binding:t,normalizedData:n})},setGlyphVisibility:function(e,t){var r=e.commit;return r("setGlyphVisibility",t)},resetGlyph:function(e,t){var r=e.commit;return r("resetGlyph",t)},discardGlyphs:function(e){var t=e.commit;return t("discardGlyphs")},addCaption:function(e,t){var r=e.rootState,a=e.commit;t.caption=r.backend.dataDisplayOrder[t.glyphIndex],a("addCaption",t)},setGlyphParameters:function(e,t){var r=e.commit,a=e.dispatch;r("setGlyphParameters",t),t.redraw&&a("activateRedrawing")},setPathParameter:function(e,t){var r=e.commit;return r("setPathParameter",t)},setShapePosition:function(e,t){var r=e.commit;return r("setShapePosition",t)},setGlyphBox:function(e,t){var r=e.commit,a=e.dispatch;r("setGlyphBox",t),a("activateRedrawing")},selectGlyphEl:function(e,t){var r=e.commit;return r("selectGlyphEl",t)},setBoundingRectSizeFactor:function(e,t){var r=e.commit;return r("setBoundingRectSizeFactor",t)},addShrinkRegrowAnimation:function(e){var t=e.commit;return t("addShrinkRegrowAnimation")},removeShrinkRegrowAnimation:function(e){var t=e.commit;return t("removeShrinkRegrowAnimation")},saveAsSVG:function(e){var t=e.commit,r=e.rootState;return t("saveAsSVG",r.template.templateName)}},Pa=r("bd86"),Ca=(r("f559"),r("d225")),Ga=r("b0b4"),Na=function(){function e(t,r){var a=r.boundingRect,n=r.shapePositions,i=void 0===n?{leftShift:0,topShift:0,widthProportion:1,heightProportion:1}:n,s=r.history,o=void 0===s?[]:s,l=r.maxHistLength,h=void 0===l?20:l,c=r.applyTransformsFlag,p=void 0!==c&&c;Object(Ca["a"])(this,e),Object(Pa["a"])(this,"history",[]),Object(Pa["a"])(this,"drawingTransforms",[]),Object(Pa["a"])(this,"bounds",{}),this.glyph=t,this.drawingBounds=a,this.drawingCenter={x:a.left+a.width/2,y:a.top+a.height/2},this.applyPositioning(i),p&&(this.applyTransforms(o),this.history=o),o.length>0&&(this.history=o),this.drawingTransforms=this.history.filter(function(e){return e.parameters[2].drawing}),this.maxHistLength=h,this.applyTransformsFlag=p,this.glyph.box=this}return Object(Ga["a"])(e,[{key:"copyTo",value:function(t){t.box=new e(t,{boundingRect:this.drawingBounds,shapePositions:this.shapePositions,history:this.history,maxHistLength:this.maxHistLength,applyTransforms:!1})}},{key:"applyPositioning",value:function(e){var t=Object.assign({},this.bounds),r=e.topShift,a=e.leftShift,n=e.widthProportion,i=e.heightProportion;"undefined"!==typeof r&&(t.top=this.drawingBounds.y+r*this.drawingBounds.height,t.y=t.top),"undefined"!==typeof a&&(t.left=this.drawingBounds.x+a*this.drawingBounds.width,t.x=t.left),"undefined"!==typeof n&&(t.width=n*this.drawingBounds.width),"undefined"!==typeof i&&(t.height=i*this.drawingBounds.height),this.bounds=t,this.center={x:this.bounds.left+this.bounds.width/2,y:this.bounds.top+this.bounds.height/2},this.shapePositions=e}},{key:"registerTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(3!==t.length)throw Error("Transforms take 3 parameters");this.history.push({transform:e,parameters:t}),r&&this.drawingTransforms.push({transform:e,parameters:t})}},{key:"applyTransforms",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;this[s.transform].apply(this,Object(nr["a"])(s.parameters))}}catch(o){r=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}}},{key:"applyDrawingTransforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(nr["a"])(this.drawingTransforms);switch(e){case"resize":t=t.filter(function(e){return"resize"===e.transform});break;case"resizeWidth":t=t.filter(function(e){return"resize"===e.transform&&null==e.parameters[1]});break;case"resizeHeight":t=t.filter(function(e){return"resize"===e.transform&&null==e.parameters[0]});break;case"shift":t=t.filter(function(e){return"shift"===e.transform});break;case"shiftLeft":t=t.filter(function(e){return"shift"===e.transform&&null==e.parameters[1]});break;case"shiftTop":t=t.filter(function(e){return"shift"===e.transform&&null==e.parameters[0]});break}var r=!0,a=!1,n=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;"resize"===o.transform&&(o.parameters[2].center=!1),"shift"===o.transform&&(o.parameters[2].scale=!1),o.parameters[2].drawing=!1}}catch(f){a=!0,n=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}var l=!0,h=!1,c=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var u=p.value;u.parameters[3]=!1,this[u.transform].apply(this,Object(nr["a"])(u.parameters))}}catch(f){h=!0,c=f}finally{try{l||null==d.return||d.return()}finally{if(h)throw c}}}},{key:"resize",value:function(){var e,t,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{setValues:!1,drawing:!1,center:!1,children:!1,redraw:!1},s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i.center,l=i.children,h=i.setValues,c=i.drawing,p=i.redraw;if(e=null==a?this.shapePositions.widthProportion:h?a:this.shapePositions.widthProportion*a,t=null==n?this.shapePositions.heightProportion:h?n:this.shapePositions.heightProportion*n,r=o?{leftShift:(1-e)/2,topShift:(1-t)/2,widthProportion:e,heightProportion:t}:Object.assign(this.shapePositions,{widthProportion:e,heightProportion:t}),this.applyPositioning(r),s&&this.registerTransform("resize",[a,n,i],c),p){var d="";null==n?d="resizeWidth":null==a&&(d="resizeHeight"),this.applyDrawingTransforms(d)}if(l){var u=!0,f=!1,m=void 0;try{for(var g,y=this.childrenBoxes[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var v=g.value;v.resize(a,n,i)}}catch(b){f=!0,m=b}finally{try{u||null==y.return||y.return()}finally{if(f)throw m}}}}},{key:"shift",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{setValues:!1,drawing:!1,scale:!1,children:!1,redraw:!1},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=n.scale,o=n.children,l=n.setValues,h=n.drawing,c=n.redraw;e=null==r?this.shapePositions.leftShift:l?r:Math.min(this.shapePositions.leftShift+r,1),t=null==a?this.shapePositions.topShift:l?a:Math.min(this.shapePositions.topShift+a,1);var p={leftShift:e,topShift:t,widthProportion:s?this.shapePositions.widthProportion*(1-r):this.shapePositions.widthProportion,heightProportion:s?this.shapePositions.heightProportion*(1-a):this.shapePositions.heightProportion};if(this.applyPositioning(p),i&&this.registerTransform("shift",[r,a,n],h),c){var d="";null==a?d="shiftLeft":null==r&&(d="shiftTop"),this.applyDrawingTransforms(d)}if(o){var u=!0,f=!1,m=void 0;try{for(var g,y=this.childrenBoxes[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var v=g.value;v.shift(r,a,n)}}catch(b){f=!0,m=b}finally{try{u||null==y.return||y.return()}finally{if(f)throw m}}}}},{key:"toCenter",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{drawing:!1},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=r.drawing,i={leftShift:e?(1-this.shapePositions.widthProportion)/2:this.shapePositions.leftShift,topShift:t?(1-this.shapePositions.heightProportion)/2:this.shapePositions.topShift,widthProportion:this.shapePositions.widthProportion,heightProportion:this.shapePositions.heightProportion};this.applyPositioning(i),this.applyDrawingTransforms("shift"),a&&this.registerTransform("center",[e,t,r],n)}},{key:"childrenBoxes",get:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,i=this.glyph.children[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;s.box&&e.push(s.box)}}catch(o){r=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return e}}]),e}(),Oa=Na;function ja(){for(var e=0;e<3;e++){var t=Qe.a.PaperScope.get(e);if("glyph-canvas"===t.view.element.id)return t}throw Error("No scope bound to element 'glyph-canvas'")}var Ta=function(e){if("undefined"===typeof e.width||"undefined"===typeof e.height||"undefined"===typeof e.left||"undefined"===typeof e.top||"undefined"===typeof e.x||"undefined"===typeof e.y)throw Error("Drawing rectangle is missing one or more properties");e.width!==e.height&&console.warn("Drawing rectangle has unequal dimensions")},Ba={setLayersUp:function(e,t){for(var r=0;r<t;r++){var a=new Qe.a.Layer({name:"glyph".concat(r)});a.opacity=1}e.activeLayer=0,Qe.a.project.layers[e.activeLayer].activate()},makeTempLayer:function(e){var t=ja();t.activate();var r=new t.Layer({name:"temp"});e.activeLayer="temp",r.activate()},removeTempLayer:function(){var e=ja();e.activate();var t=e.project.layers.find(function(e){return"temp"===e.name});"undefined"!==typeof t?t.remove():console.warn("Attempted to remove non-existent temporary layer")},setGlyphType:function(e,t){var r=t.glyphTypeName,a=t.glyphSetting;e.glyphTypeName=r;var n=e.glyphTypes.find(function(t){return t.type.startsWith(e.glyphTypeName)});if("undefined"===typeof n)throw Error("Unknown glyph type: ".concat(r));e.glyphSettings=n.settings,e.glyphShapes=n.shapes,e.glyphShapes.all=[e.glyphShapes.main].concat(Object(nr["a"])(e.glyphShapes.children)),e.glyphElements=Object(nr["a"])(n.elements),console.log("Loaded settings and elements for glyph type: ".concat(n.type)),a.length>0&&(e.selectedGlyphSetting=a)},resetProject:function(e){ja().project.clear(),a["default"].set(e,"project",{name:"A Phew project",glyphs:[],bindings:[]})},setBindings:function(e,t){e.project.bindings=t},addDataBoundGlyphs:function(e,t){var r=t.parsedData,a=t.namingField,n=e.glyphTypes.find(function(t){return t.type.startsWith(e.glyphTypeName)});if("undefined"===typeof n)throw Error("Unknown glyph type: ".concat(e.glyphTypeName));e.glyphElements=n.elements,e.project.glyphs=r.map(function(e,t){return new n(t,e[a])})},makeEmptyGlyphs:function(e,t){var r=t.newGlyphName,a=t.createOptions,n=t.boundingRects;if(0===e.project.glyphs.length)throw Error("Databound glyphs must be added before empty glyphs can be created");var i=e.glyphTypes.find(function(t){return t.type.startsWith(e.glyphTypeName)});if("undefined"===typeof i)throw Error("Unknown glyph type: ".concat(e.glyphTypeName));var s=[],o=!0,l=!1,h=void 0;try{for(var c,p=e.project.glyphs[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value,u=void 0;u=a?new i(d.layer,r,a):new i(d.layer,r),d.registerChild(u),s.push(u)}}catch(k){l=!0,h=k}finally{try{o||null==p.return||p.return()}finally{if(l)throw h}}var f=!0,m=!1,g=void 0;try{for(var y,v=n.entries()[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b,w=Object(Ze["a"])(y.value,2),x=w[0],S=w[1];s[x].draw((b={boundingRect:Object.assign({},S),scaleOrders:[]},Object(Pa["a"])(b,e.glyphSettings.name,e.selectedGlyphSetting),Object(Pa["a"])(b,"shapeJSON",e.shapeJSON),b))}}catch(k){m=!0,g=k}finally{try{f||null==v.return||v.return()}finally{if(m)throw g}}},shiftLayersAssignment:function(e,t){var r=t.startIndex,a=t.endIndex,n=0;e.project.glyphs=e.project.glyphs.map(function(e,t){return e.reset(),t>=r&&t<a?(e.layer=n,n++):e.layer=null,e})},reassignGlyphIds:function(e,t){return e.project.glyphs.forEach(function(e,r){e.id=t[r]})},reassignGlyphLayer:function(e,t){var r=t.glyphId,a=t.layerId,n=e.project.glyphs.find(function(e){return e.id===r});n.changeLayer(a)},drawGlyph:function(e,t){var r,a=t.boundingRect,n=t.glyphId,i=t.dataPoint,s=t.varShapeAssignment,o=t.shapeJSONStore,l=t.glyphBoxes;Ta(a);var h=e.project.glyphs.find(function(e){return e.id===n});e.activeLayer=h.layer,h.activateLayer();var c=[],p=!0,d=!1,u=void 0;try{for(var f,g=function(){var t=f.value,r=e.glyphElements.find(function(e){return e.name===t.element});if("scale"!==r.type&&!r.properties.requiresTransform)return"continue";var a=Object.assign({},Object(m["a"])({},t,{value:i[t.field]}));c.push(a)},y=e.project.bindings[Symbol.iterator]();!(p=(f=y.next()).done);p=!0)g()}catch(E){d=!0,u=E}finally{try{p||null==y.return||y.return()}finally{if(d)throw u}}var v=[],b=!0,w=!1,x=void 0;try{for(var S,k=s[Symbol.iterator]();!(b=(S=k.next()).done);b=!0){var P=S.value;i[P.field]===P.categoricalValue&&(v.push(o.get(P.shape)),v[P.shape]=o.get(P.shape))}}catch(E){w=!0,x=E}finally{try{b||null==k.return||k.return()}finally{if(w)throw x}}var C,G=l.find(function(e){return e._id===h.id}),N=(r={boundingRect:Object.assign({},a),scaleOrders:c},Object(Pa["a"])(r,e.glyphSettings.name,e.selectedGlyphSetting),Object(Pa["a"])(r,"shapeJSONs",v),Object(Pa["a"])(r,"glyphBox",G),r);h.draw(N);var O=Object(nr["a"])(e.project.bindings).sort(function(t){var r=e.glyphElements.find(function(e){return e.name===t.element});return r.properties.priority?-r.properties.priority:0}),j=!0,T=!1,B=void 0;try{for(var F,z=function(){var t=F.value,r=e.glyphElements.find(function(e){return e.name===t.element});if("scale"===r.type)return"continue";if(C=h.name===t.shape?h:h.getChild(t.shape),"undefined"===typeof C)throw new Error("Neither glyph ".concat(n," nor its children match shape '").concat(t.shape,"' "));try{C["draw"+t.element](i[t.field])}catch(a){throw"undefined"===typeof C["draw"+t.element]?new Error("Handler for element ".concat(t.element," not defined on glyph type ").concat(C.name)):a}},D=O[Symbol.iterator]();!(j=(F=D.next()).done);j=!0)z()}catch(E){T=!0,B=E}finally{try{j||null==D.return||D.return()}finally{if(T)throw B}}h.buildGroups()},moveGlyph:function(e,t){var r=t.boundingRect,a=t.glyphId;Ta(r);var n=e.project.glyphs.find(function(e){return e.id===a});e.activeLayer=n.layer,n.activateLayer(),n.updateDrawingBounds(r,!0),setTimeout(n.fitToBox("layer"))},changeGlyphPosition:function(e,t){var r=t.steps,a=t.shapeSelector,n=void 0===a?"":a,i=t.children,s=void 0!==i&&i,o=!0,l=!1,h=void 0;try{for(var c,p=function(){var e=c.value,t=e;if(n&&(t=Object(nr["a"])(e.iter()).find(function(e){return e.name===n})),s){var a=!0,i=!1,o=void 0;try{for(var l,h=function(){var e=l.value,a=r.map(function(r){var a=JSON.parse(JSON.stringify(r));if("shift"===a.transform&&a.parameters[2].setValues)return null!==a.parameters[0]&&(a.parameters[0]+=e.box.shapePositions.leftShift-t.box.shapePositions.leftShift),null!==a.parameters[1]&&(a.parameters[1]+=e.box.shapePositions.topShift-t.box.shapePositions.topShift),a});e.box.applyTransforms(a)},p=t.children[Symbol.iterator]();!(a=(l=p.next()).done);a=!0)h()}catch(d){i=!0,o=d}finally{try{a||null==p.return||p.return()}finally{if(i)throw o}}}t.box.applyTransforms(r),t.fitToBox(s?"all":"glyph")},d=e.project.glyphs[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)p()}catch(u){l=!0,h=u}finally{try{o||null==d.return||d.return()}finally{if(l)throw h}}},setRedrawing:function(e,t){e.redrawing=t},deleteElement:function(e,t){var r=!0,a=!1,n=void 0;try{for(var i,s=e.project.glyphs[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,l=Object(nr["a"])(o.iter()).find(function(e){return e.name===t.shape});l.drawn&&(l.activateLayer(),l.itemIds[t.element.toLowerCase()]&&l.deleteItem(t.element.toLowerCase()))}}catch(h){a=!0,n=h}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}e.project.bindings=e.project.bindings.filter(function(e){return!(e.element===t.element&&e.shape===t.shape)})},redrawElement:function(e,t){var r=t.binding,a=t.normalizedData,n=!0,i=!1,s=void 0;try{for(var o,l=e.project.glyphs.entries()[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var h=Object(Ze["a"])(o.value,2),c=h[0],p=h[1],d=Object(nr["a"])(p.iter()).find(function(e){return e.name===r.shape});d.drawn&&(d.activateLayer(),d.itemIds[r.element.toLowerCase()]&&d.deleteItem(r.element.toLowerCase()),d["draw"+r.element](a[c][r.field]),d.buildGroups())}}catch(u){i=!0,s=u}finally{try{n||null==l.return||l.return()}finally{if(i)throw s}}e.project.bindings=e.project.bindings.filter(function(e){return!(e.element===r.element&&e.shape===r.shape)}),e.project.bindings.push(r)},setGlyphVisibility:function(e,t){var r=t.value,a=t.glyphSelector,n=void 0===a?"all":a,i=t.shapeSelector,s=void 0===i?"layer":i,o=t.itemSelector,l=void 0===o?"group":o,h=[];if("all"===n)h=e.project.glyphs;else{var c=e.project.glyphs.find(function(e){return e.id===n});if("undefined"===typeof c)throw Error("No glyphs were found to match selector '".concat(n,"'"));h.push(e.project.glyphs.find(function(e){return e.id===n}))}var p=!0,d=!1,u=void 0;try{for(var f,m=h[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var g=f.value;e.activeLayer=g.layer;var y=ja().project.layers[e.activeLayer];if(y.activate(),"layer"===s)y.visible=r;else{var v=void 0;if(v=g.name===s||"main"===s?g:g.getChild(s),"undefined"===typeof v)throw Error("Could not find shape '".concat(s,"'"));"group"===l?v.group.visible=r:v.getItem(l).visible=r}}}catch(b){d=!0,u=b}finally{try{p||null==m.return||m.return()}finally{if(d)throw u}}},resetGlyph:function(e,t){return e.project.glyphs[t].reset()},discardGlyphs:function(e){e.project.glyphs=[]},addCaption:function(e,t){var r=t.glyphIndex,a=t.caption;e.activeLayer=r;var n=e.project.glyphs[r].mainPath.bounds,i=n.x,s=n.y,o=n.width,l=n.height,h=ja();h.activate(),new h.PointText({point:[i+o/10,s+1.15*l],content:a,fillColor:"gray",fontSize:14})},setGlyphParameters:function(e,t){var r,a=t.parameters,n=t.shapeName,i=!0,s=!1,o=void 0;try{for(var l,h=e.project.glyphs[Symbol.iterator]();!(i=(l=h.next()).done);i=!0){var c=l.value;if(r=c.name===n?c:c.getChild(n),!r)throw new Error("No glyph matching '".concat(n,"'"));Object.assign(r.parameters,a)}}catch(p){s=!0,o=p}finally{try{i||null==h.return||h.return()}finally{if(s)throw o}}},setPathParameter:function(e,t){var r,a=t.parameter,n=t.value,i=t.shapeName,s=t.elementName,o=!0,l=!1,h=void 0;try{for(var c,p=e.project.glyphs[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;if(r=d.drawn&&d.name===i?d:d.getChild(i),r&&r.drawn){var u=r.getNamedItems(!0);u[s.toLowerCase()][a]=n;var f=s.toLowerCase()+a[0].toUpperCase()+a.slice(1);r.parameters[f]=n}}}catch(m){l=!0,h=m}finally{try{o||null==p.return||p.return()}finally{if(l)throw h}}},setGlyphBox:function(e,t){var r=t.glyphBoxes,a=t.update,n=void 0===a?"box":a;if(r.length!==e.project.glyphs.length)throw new Error("Passed box parameters do not match number of existing glyphs");var i=!0,s=!1,o=void 0;try{for(var l,h=function(){var e=l.value,t=r.find(function(t){return t._id===e.id});if(!t)throw new Error("No glyph box matching name '".concat(t._id,"'. Boxes template might not match dataset"));for(var a=void 0,i=0,s=Object.keys(t);i<s.length;i++){var o=s[i];"_id"!==o&&(a=e.name===o?e:e.getChild(o),"box"===n?a.box=new Oa(a,{boundingRect:t[o].drawingBounds,shapePositions:t[o].shapePositions,history:t[o].history,maxHistLength:t[o].maxHistLength,applyHistoryTransforms:!1}):"positions"===n&&(a.box.shapePositions=t[o].shapePositions),a.fitToBox())}},c=e.project.glyphs[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)h()}catch(p){s=!0,o=p}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}},selectGlyphEl:function(e,t){e.selection=t},addShrinkRegrowAnimation:function(e){var t=[],r=!0,a=!1,n=void 0;try{for(var i,s=e.project.glyphs[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,l=!1,h=!0,c=!1,p=void 0;try{for(var d,u=e.project.glyphs[Symbol.iterator]();!(h=(d=u.next()).done);h=!0){var f=d.value;if(l=o.group.intersects(f.group),l){console.log("Glyph ".concat(o.id," overlaps with glyph ").concat(f.id));break}}}catch(P){c=!0,p=P}finally{try{h||null==u.return||u.return()}finally{if(c)throw p}}t.push(l)}}catch(P){a=!0,n=P}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}var m=!0,g=!1,y=void 0;try{for(var v,b=t.entries()[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var w=Object(Ze["a"])(v.value,2),x=w[0],S=w[1],k=e.project.glyphs[x];S&&!k.animations.has("shrink-regrow")&&k.addShrinkRegrow(.4)}}catch(P){g=!0,y=P}finally{try{m||null==b.return||b.return()}finally{if(g)throw y}}},removeShrinkRegrowAnimation:function(e){var t=!0,r=!1,a=void 0;try{for(var n,i=e.project.glyphs[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;s.animations.has("shrink-regrow")&&s.removeShrinkRegrow()}}catch(o){r=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}},saveAsSVG:function(e,t){var r="".concat(t,".svg"),a="data:image/svg+xml;utf8"+encodeURIComponent(Qe.a.project.exportSVG({asString:!0})),n=document.createElement("a");n.download=r,n.href=a,n.click()}},Fa={totalGlyphNum:function(e){return e.project.glyphs.reduce(function(e,t){return e+Object(nr["a"])(t.iter()).length},0)},glyphNames:function(e){return e.project.glyphs.reduce(function(e,t){for(var r=0,a=Object(nr["a"])(t.iter());r<a.length;r++){var n=a[r];e.add(n.name)}return e},new Set)}},za=r("308d"),Da=r("6bb5"),Ea=r("2a88"),_a=r("4e2b"),Ra=(r("8615"),r("db97"),function(){function e(t,r){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.baseOptions(),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;for(var o in Object(Ca["a"])(this,e),Object(Pa["a"])(this,"parameters",{}),Object(Pa["a"])(this,"glyphElements",e.elements),Object(Pa["a"])(this,"drawn",!1),Object(Pa["a"])(this,"itemIds",{}),Object(Pa["a"])(this,"drawnItems",new Set),Object(Pa["a"])(this,"zOrder",{}),Object(Pa["a"])(this,"children",[]),Object(Pa["a"])(this,"box",null),Object(Pa["a"])(this,"drawOptions",{}),Object(Pa["a"])(this,"animations",new Set),Object(Pa["a"])(this,"findItem",function(e,t){return e.find(function(e){return e.id===a.itemIds[t]&&e.name===t})}),i)this.parameters[o]=i[o];if(this.layer=t,this.id=r,this.name=n||(null===s?this.constructor.shapes.main:this.children[this.parent.children.length]||""),null!==s&&s.layer!==this.layer)throw Error("Child ".concat(this.name,"'s layer (").concat(this.layer,") differs from parent ").concat(s.name,"'s layer (").concat(s.layer));this.parent=s,this.activateLayer(),this.group=new Qe.a.Group([])}return Object(Ga["a"])(e,null,[{key:"baseOptions",value:function(){return{backend:"paper",strokeColor:"#78909C",primaryColor:"#00897B",secondaryColor:"#F50057",lightColor:"#E1F5FE",darkColor:"#880E4F",strokeWidth:1,thickPathSize:6,narrowPathSize:3}}},{key:"glyphScope",get:function(){for(var e=0;e<3;e++){var t=Qe.a.PaperScope.get(e);if("glyph-canvas"===t.view.element.id)return t}throw Error("No scope bound to element 'glyph-canvas'")}}]),Object(Ga["a"])(e,[{key:"iter",value:regeneratorRuntime.mark(function e(){var t,r,a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this;case 2:t=!0,r=!1,a=void 0,e.prev=5,n=this.children[Symbol.iterator]();case 7:if(t=(i=n.next()).done){e.next=14;break}return s=i.value,e.next=11,s;case 11:t=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](5),r=!0,a=e.t0;case 20:e.prev=20,e.prev=21,t||null==n.return||n.return();case 23:if(e.prev=23,!r){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})},{key:"activateLayer",value:function(){e.glyphScope.activate(),e.glyphScope.project.layers[this.layer].activate()}},{key:"draw",value:function(e){if(this.drawOptions=e,this.box||(this.box=new Oa(this,e)),null===this.layer)throw Error("Cannot draw glyph ".concat(this.id," with null layer"));if(this.activateLayer(),!Object.is(Qe.a.project.layers[this.layer],Qe.a.project.activeLayer))throw Error("Cannot set glyph: Active layer '".concat(Qe.a.project.activeLayer.name,"' differs from glyph layer '").concat(Qe.a.project.layers[this.layer].name,"'"));if(!this.parent){var t=Qe.a.Path.Rectangle({center:[this.box.drawingCenter.x,this.box.drawingCenter.y],size:[this.box.drawingBounds.width,this.box.drawingBounds.height],strokeColor:"black",strokeWidth:5,visible:!1});this.registerItem(t,"drawingBox");var r=!0,a=!1,n=void 0;try{for(var i,s=this.children[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;o.registerItem(t,"drawingBox")}}catch(l){a=!0,n=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}}this.drawn=!0}},{key:"buildGroups",value:function(){var e=this,t=this.getNamedItems(!1),r=[];Object.values(t).forEach(function(e){return r.push(e)}),this.group=new Qe.a.Group(r);var a=function(t){e.zOrder.hasOwnProperty(t)&&-1===e.zOrder[t]&&e.group.getItem(function(e){return e.name===t}).sendToBack()};for(var n in this.zOrder)a(n);this.children.forEach(function(e){return e.buildGroups()})}},{key:"registerItem",value:function(e,t){this.itemIds[t]=e.id,this.drawnItems.add(t),e.name=t,this.parent&&(this.parent.itemIds[this.name+"-"+t]=e.id)}},{key:"getItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=this.group.children,r=this.findItem(t,e);if("undefined"===typeof r&&(t=Qe.a.project.layers[this.layer].children,r=this.findItem(t,e)),"undefined"===typeof r)throw new Error("Either id or name did not match the tracked id (".concat(this.itemIds[e],") / name (").concat(e,")"));return r}},{key:"deleteItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=this.group.children,r=this.findItem(t,e);if("undefined"===typeof r&&(t=Qe.a.project.layers[this.layer].children,r=this.findItem(t,e)),"undefined"===typeof r)throw new Error("Either id or name did not match the tracked id (".concat(this.itemIds[e],") / name (").concat(e,")"));r.remove(),this.drawnItems.delete(e),delete this.zOrder[e],this.itemIds[e]=null}},{key:"getNamedItems",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r={};r[this.name]=this.getItem(this.name);var a=!0,n=!1,i=void 0;try{for(var s,o=function(){var a=s.value;if("scale"===a.type)return"continue";var n=void 0;if("main"===a.target||a.target===e.name)n=e;else{if(!t)return"continue";n=e.children.find(function(e){return e.name===a.target})}if("undefined"===typeof n)throw Error("Neither main glyph nor children names matched element's target '".concat(a.target,"' "));var i=a.name.toLowerCase();e.drawnItems.has(i)&&(r[i]=e.getItem(i),r[i]instanceof Qe.a.Item||console.warn("Referenced object '".concat(i,"' is not a paper.Item instance")))},l=this.glyphElements[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)o()}catch(h){n=!0,i=h}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r}},{key:"cloneItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outer",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;e="outer"===t?this.outerPath:this.getItem(t);for(var a=new Qe.a.Path,n=e.length/r,i=0;i<r;i++)a.add(e.getLocationAt(n*i));return a}},{key:"changeLayer",value:function(e){var t=Qe.a.project.layers[e],r=this.group.addTo(t);if(!r)throw Error("Could not add glyph '".concat(r.id,"' to layer '").concat(e,"'"));this.layer=t.index;var a=!0,n=!1,i=void 0;try{for(var s,o=this.children[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;l.changeLayer(e)}}catch(h){n=!0,i=h}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"updateDrawingBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.box=new Oa(this,{boundingRect:e,shapePositions:this.box.shapePositions,history:this.box.history}),t){var r=!0,a=!1,n=void 0;try{for(var i,s=this.children[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;o.box=new Oa(o,{boundingRect:e,shapePositions:o.box.shapePositions,history:o.box.history,maxHistLength:o.box.maxHistLength})}}catch(l){a=!0,n=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}}}},{key:"checkBoxUpdate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,r={box:!1,main:!1};try{e=this.getItem("drawingBox")}catch(n){return r}this.drawn&&(Math.abs(this.box.drawingBounds.x-e.bounds.x)>t||Math.abs(this.box.drawingBounds.y-e.bounds.y)>t||Math.abs(this.box.drawingBounds.width-e.bounds.width)>t||Math.abs(this.box.drawingBounds.height-e.bounds.height)>t)&&(r.box=!0);var a=this.mainPath;return this.drawn&&(Math.abs(this.box.bounds.x-a.bounds.x)>t||Math.abs(this.box.bounds.y-a.bounds.y)>t||Math.abs(this.box.bounds.width-a.bounds.width)>t||Math.abs(this.box.bounds.height-a.bounds.height)>t)&&(r.main=!0),r}},{key:"fitToBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"glyph";if(this.drawn){var t;"layer"===e?t=Qe.a.project.layers[this.layer]:"glyph"!==e&&"all"!==e||(t=this.group),0===t.children.length&&(t=this.mainPath);var r=this.checkBoxUpdate();if("layer"===e&&r.box){var a=this.getItem("drawingBox");t.translate(new Qe.a.Point(this.box.drawingBounds.x-a.bounds.x,this.box.drawingBounds.y-a.bounds.y)),t.scale(this.box.drawingBounds.width/a.bounds.width,this.box.drawingBounds.height/a.bounds.height)}else r.main?t.bounds=new Qe.a.Rectangle(this.box.bounds.x,this.box.bounds.y,this.box.bounds.width,this.box.bounds.height):console.warn("fitToBox did not update any path");if("all"===e){var n=!0,i=!1,s=void 0;try{for(var o,l=this.children[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var h=o.value;h.fitToBox("glyph")}}catch(c){i=!0,s=c}finally{try{n||null==l.return||l.return()}finally{if(i)throw s}}}}}},{key:"reset",value:function(){if(this.box=null,this.drawn){if(null===this.parent)Qe.a.project.layers[this.layer].removeChildren(),this.itemIds={},this.drawnItems=new Set;else for(var e in this.itemIds)this.itemIds.hasOwnProperty(e)&&this.deleteItem(e);this.children=[],this.drawn=!1,this.activateLayer(),this.group=new Qe.a.Group([])}}},{key:"registerChild",value:function(e){if(e.id||(e.id="".concat(this.children.length-1)),e.layer!==this.layer)throw Error("Child ".concat(e.name,"'s layer (").concat(e.layer,") differs from parent ").concat(this.name,"'s layer (").concat(this.layer));e.parent=this,this.children.push(e);var t=!0,r=!1,a=void 0;try{for(var n,i=e.constructor.elements[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;"scale"!==s.type&&(this["draw".concat(e.name).concat(s.name)]=e["draw".concat(s.name)].bind(e))}}catch(o){r=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}}},{key:"getChild",value:function(e){try{return this.children.find(function(t){return t.name===e})}catch(t){throw Error("Glyph ".concat(this.name," has no children named '").concat(e,"'"))}}},{key:"deleteChild",value:function(e){var t;for(t=0;t<this.children.length;t++)if(this.children[t]===e)return t;throw delete this.children[t],Error("Glyph ".concat(this.name," has no children named '").concat(e,"'"))}},{key:"addShrinkRegrow",value:function(e){var t=this.group,r=this.children.map(function(e){return e.group});t.scale(e);var a=!0,n=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;l.scale(e)}}catch(h){n=!0,i=h}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}t.on({mouseenter:w.a.call(this,function(){if(!this.data.shrunk){this.scale(1/e);var t=!0,a=!1,n=void 0;try{for(var i,s=r[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;o.scale(1/e)}}catch(h){a=!0,n=h}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}this.data.shrunk=!0}},400),mouseleave:w.a.call(this,function(){if(this.data.shrunk){this.scale(e);var t=!0,a=!1,n=void 0;try{for(var i,s=r[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;o.scale(e)}}catch(h){a=!0,n=h}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}this.data.shrunk=!1}},400)}),this.animations.add("shrink-regrow"),this.shirnkRegrowScaleFactor=e}},{key:"removeShrinkRegrow",value:function(){this.group.off("mouseenter").off("mouseleave"),this.animations.delete("shrink-regrow");var e=this.group,t=this.children.map(function(e){return e.group});e.scale(1/this.shirnkRegrowScaleFactor);var r=!0,a=!1,n=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;o.scale(1/this.shirnkRegrowScaleFactor)}}catch(l){a=!0,n=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}this.shirnkRegrowScaleFactor=null}},{key:"group",set:function(e){if(!Object.is(Qe.a.project.layers[this.layer],Qe.a.project.activeLayer))throw Error("Cannot set glyph: Active layer '".concat(Qe.a.project.activeLayer.name,"' differs from glyph layer '").concat(Qe.a.project.layers[this.layer].name,"'"));var t=Qe.a.project.layers[this.layer].children,r=this.name+"Group",a=t.find(function(e){return e.name===r});"undefined"!==typeof a&&a.replaceWith(e),e.name=r},get:function(){var e=Qe.a.project.layers[this.layer].children,t=this.name+"Group",r=e.find(function(e){return e.name===t});return"undefined"===typeof r&&console.warn("No group in layer ".concat(this.layer," matched name '").concat(t,"'.")),r}},{key:"mainPath",set:function(e){if(this.itemIds[this.name])throw Error("Cannot register main path - path with name ".concat(this.name," already exists"));this.registerItem(e,this.name)},get:function(){return this.getItem(this.name)}},{key:"outerPath",get:function(){return this.mainPath}}],[{key:"type",get:function(){return"BaseGlyph"}},{key:"settings",get:function(){return{name:"",message:"",options:[]}}},{key:"shapes",get:function(){return{main:"main",children:[]}}},{key:"elements",get:function(){return[{name:"Height",type:"scale",properties:{},target:"main",subElements:[]},{name:"Width",type:"scale",properties:{},target:"main",subElements:[]}]}}]),e}()),Aa=Ra,Ia=function(e){function t(e,r){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(m["a"])({},t.baseOptions(),{numSides:6,numPoints:150,spikeHeight:.3,meshType:"grid",spikeSize:.4,decorationSize:5,decorationType:"circle",protrusionProportion:.15,protrusionBackgroundColor:"#F5F5F5",protrusionStrokeColor:"#212121",islandsType:"circle",islandsSize:10,maxNumIslands:40});return Object(Ca["a"])(this,t),a=Object(za["a"])(this,Object(Da["a"])(t).call(this,e,r,n,i)),a.glyphElements=t.elements,a.itemIds=Object(m["a"])({},a.itemIds,{membrane:null,spikes:null,protrusion:null,mesh:null}),a}return Object(_a["a"])(t,e),Object(Ga["a"])(t,[{key:"draw",value:function(e){var r=this;Object(Ea["a"])(Object(Da["a"])(t.prototype),"draw",this).call(this,e);var a=e.scaleOrders.find(function(e){return"Width"===e.element&&e.shape===r.name}),n=e.scaleOrders.find(function(e){return"Height"===e.element&&e.shape===r.name});a&&this.box.resize(a.value,null,{drawing:!0,center:!0,children:!0}),n&&this.box.resize(null,n.value,{drawing:!0,center:!0,children:!0});var i=e.scaleOrders.find(function(e){return"Protrusion"===e.element&&e.shape===r.name});i&&this.box.shift(null,this.parameters.protrusionProportion,{drawing:!0,scale:!0,children:!0}),this.drawOptions=e;var s,o=e.shapeType;switch(o||(o="ellipse"),this.activateLayer(),o){case"customShape":if(e.shapeJSONs.length>0){s=new Qe.a.Path,s.importJSON(e.shapeJSONs[0]),s.translate(new Qe.a.Point(this.box.center.x-s.bounds.center.x,this.box.center.y-s.bounds.center.y)),s.scale(this.box.bounds.width/s.bounds.width,this.box.bounds.height/s.bounds.height),Object.assign(s,{strokeColor:this.parameters.strokeColor,fillColor:this.parameters.lightColor,strokeWidth:this.parameters.strokeWidth});break}case"ellipse":s=new Qe.a.Path.Ellipse({center:[this.box.center.x,this.box.center.y],size:[this.box.bounds.width,this.box.bounds.height],strokeColor:this.parameters.strokeColor,fillColor:this.parameters.lightColor,strokeWidth:this.parameters.strokeWidth});break;case"rectangle":s=new Qe.a.Path.Rectangle({center:[this.box.center.x,this.box.center.y],size:[this.box.bounds.width,this.box.bounds.height],strokeColor:this.parameters.strokeColor,fillColor:this.parameters.lightColor,strokeWidth:this.parameters.strokeWidth});break;case"circle":s=new Qe.a.Path.Circle({center:[this.box.center.x,this.box.center.y],radius:Math.min(this.box.bounds.width,this.box.bounds.height),strokeColor:this.parameters.strokeColor,fillColor:this.parameters.lightColor,strokeWidth:this.parameters.strokeWidth});break;case"regularPolygon":s=new Qe.a.Path.RegularPolygon({center:[this.box.center.x,this.box.center.y],sides:this.numSides,radius:Math.min(this.box.bounds.width,this.box.bounds.height),strokeColor:this.parameters.strokeColor,fillColor:this.parameters.lightColor,strokeWidth:this.parameters.strokeWidth});break;default:throw Error("Unknown shape type '".concat(o,"'"))}this.mainPath=s}},{key:"drawMembrane",value:function(e,t){if(!(e>=0||e<=1))throw Error("Invalid membrane fraction ".concat(e,", it must be in [0, 1] ("));this.activateLayer();for(var r=new Qe.a.Path,a=this.outerPath,n=0;n<Math.floor(this.parameters.numPoints*e);n++)r.add(a.getLocationAt(a.length*(1-n/this.parameters.numPoints)));r.strokeColor=this.parameters.primaryColor,r.strokeWidth=this.parameters.thickPathSize,this.registerItem(r,"membrane")}},{key:"drawSpikes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.spikeHeight,a=t.numPoints;"undefined"===typeof r&&(r=this.parameters.spikeHeight),"undefined"===typeof a&&(a=this.parameters.numPoints);var n=this.cloneItem("outer",a);n.visible=!1;for(var i=Math.floor(n.segments.length*e),s=new Qe.a.Path,o=0;o<i;o++){var l=[0,0],h=n.segments[o].point.x-this.outerPath.position.x,c=n.segments[o].point.y-this.outerPath.position.y;o%2===1&&o!==i-1?(l[0]=h*r,l[1]=c*r):o>0&&o<a-1&&(l=[.35*l[0],.35*l[1]]);var p=new Qe.a.Point(n.segments[o].point.x+l[0],n.segments[o].point.y+l[1]);s.add(p)}s.strokeColor=this.parameters.secondaryColor,s.strokeWidth=this.parameters.spikeSize,this.registerItem(s,"spikes")}},{key:"drawMesh",value:function(e,t){for(var r,a=Math.floor(2*Math.exp(3*e)),n=[],i=0;i<a;i++)switch(this.parameters.meshType){case"grid":case"vertical":if(r=(this.mainPath.bounds.right-this.mainPath.bounds.left)/a,n.push(new Qe.a.Path.Line(new Qe.a.Point(this.outerPath.bounds.left+(i+.5)*r,this.outerPath.bounds.top),new Qe.a.Point(this.outerPath.bounds.left+(i+.5)*r,this.outerPath.bounds.bottom))),"grid"!==this.parameters.meshType)break;case"horizontal":r=(this.outerPath.bounds.bottom-this.outerPath.bounds.top)/a,n.push(new Qe.a.Path.Line(new Qe.a.Point(this.outerPath.bounds.left,this.outerPath.bounds.top+(i+.5)*r),new Qe.a.Point(this.outerPath.bounds.right,this.outerPath.bounds.top+(i+.5)*r)));break;case"random":throw Error("Random grid not implemented");default:throw Error("Unknown mesh type ".concat(this.parameters.meshType))}for(var s=new Qe.a.Group([]),o=0,l=n;o<l.length;o++)for(var h=l[o],c=h.getIntersections(this.outerPath),p=0;p+1<c.length;p+=2)s.addChild(Qe.a.Path.Line(c[p].point,c[p+1].point));s.strokeColor=this.parameters.darkColor,s.strokeWidth=this.parameters.strokeWidth,s.bringToFront(),this.registerItem(s,"mesh")}},{key:"drawDecoration",value:function(e,t){for(var r=[],a=this.outerPath,n=this.box.drawingBounds.x;n<this.box.drawingBounds.x+this.box.drawingBounds.width;n+=this.parameters.decorationSize)for(var i=this.box.drawingBounds.y;i<this.box.drawingBounds.y+this.box.drawingBounds.height;i+=this.parameters.decorationSize){var s=new Qe.a.Point(n,i),o=new Qe.a.Point(this.parameters.decorationSize/2,0),l=new Qe.a.Point(0,this.parameters.decorationSize/2),h=[a.contains(s),a.contains(s.add(o)),!this.children.some(a.contains.bind(a,s.add(o))),a.contains(s.add(o.negate())),!this.children.some(a.contains.bind(a,s.add(o.negate()))),a.contains(s.add(l)),!this.children.some(a.contains.bind(a,s.add(l))),a.contains(s.add(l.negate())),!this.children.some(a.contains.bind(a,s.add(l.negate())))];h.every(function(e){return e})&&r.push(s)}for(var c,p=[],d=0;d<Math.ceil(r.length*e);d++){switch(this.parameters.decorationType){case"circle":c=new Qe.a.Path.Circle(r[d],.8*this.parameters.decorationSize/2);break;case"star":c=new Qe.a.Path.Star(r[d],5,.5*this.parameters.decorationSize/2,.8*this.parameters.decorationSize/2);break;case"square":c=new Qe.a.Path.Rectangle(r[d],new Qe.a.Size(.8*this.parameters.decorationSize/2,.8*this.parameters.decorationSize/2));break}c.fillColor=this.parameters.secondaryColor,c.visible=!0,p.push(c)}var u=new Qe.a.Group(p);u.bringToFront(),this.registerItem(u,"decoration")}},{key:"drawProtrusion",value:function(e,t){for(var r=this.cloneItem(this.name,this.parameters.numPoints),a=this.box.drawingBounds.height*this.parameters.protrusionProportion,n=0;n<r.segments.length;n++)r.segments[n].point.y<this.mainPath.position.y&&(r.segments[n].point.y-=a*e);var i,s=this.cloneItem(this.name,this.parameters.numPoints),o=s.getCrossings(r),l=[s.bounds.x,s.bounds.y],h=[s.bounds.x+s.bounds.width,s.bounds.y];if(o.length>0){var c=o.map(function(e){return s.getLocationOf(e.point)});c.sort(function(e,t){return e.point.getDistance(l)-t.point.getDistance(l)});var p=c[0].offset;c.sort(function(e,t){return e.point.getDistance(h)-t.point.getDistance(h)});for(var d=c[0].offset,u=[],f=0;f<s.segments.length;f++){var m=s.segments[f].location.offset,g=r.segments[f].point;p<d?m>p&&m<d?g.getDistance(s.getNearestPoint(g))>1&&!s.contains(g)?u.push(r.segments[f].clone()):u.push(s.getNearestLocation(g).segment.clone()):u.push(s.segments[f].clone()):m>d&&m<p?u.push(s.segments[f].clone()):g.getDistance(s.getNearestPoint(g))>1&&!s.contains(g)?u.push(r.segments[f].clone()):u.push(s.getNearestLocation(g).segment.clone())}i=new Qe.a.Path(u)}else i=r;Object.assign(i,{strokeWidth:this.parameters.strokeWidth,strokeColor:this.parameters.protrusionStrokeColor,fillColor:this.parameters.protrusionBackgroundColor,visible:!0,closed:!0}),i.sendToBack(),this.zOrder["protrusion"]=-1,this.registerItem(i,"protrusion")}},{key:"drawIslands",value:function(e,t){for(var r=[],a=0;a<Math.ceil(this.parameters.maxNumIslands*e);a++){var n=this.outerPath.getPointAt(this.outerPath.length*(1-a/this.parameters.maxNumIslands)),i=void 0;switch(this.parameters.islandsType){case"circle":i=new Qe.a.Path.Circle(n,.8*this.parameters.islandsSize/2);break;case"star":i=new Qe.a.Path.Star(n,5,.5*this.parameters.islandsSize/2,.8*this.parameters.islandsSize/2);break;case"square":i=new Qe.a.Path.Rectangle(n,new Qe.a.Size(.8*this.parameters.islandsSize/2,.8*this.parameters.islandsSize/2));break}i.fillColor=this.parameters.lightColor,i.strokeColor=this.parameters.strokeColor,r.push(i)}var s=new Qe.a.Group(r);this.registerItem(s,"islands")}},{key:"outerPath",get:function(){var e;try{e=this.getItem("protrusion")}catch(t){e=this.mainPath}return e}}],[{key:"type",get:function(){return"ShapeGlyph"}},{key:"settings",get:function(){return{name:"shapeType",message:"Select glyph shape",options:["ellipse","rectangle","circle","regularPolygon","customShape"]}}},{key:"shapes",get:function(){return{main:"main",children:[]}}},{key:"elements",get:function(){return[{name:"Height",type:"scale",properties:{},target:"main",subElements:[]},{name:"Width",type:"scale",properties:{},target:"main",subElements:[]},{name:"Membrane",type:"path",properties:{color:{range:[],step:[]},size:{range:[1,30],step:1}},target:"main",subElements:[]},{name:"Spikes",type:"path",properties:{color:{range:[],step:[]},size:{range:[.4,2],step:.2}},target:"main",subElements:["SpikeHeight","NumberOfPoints"]},{name:"Mesh",type:"path",properties:{color:{range:[],step:[]},size:{range:[.3,1.5],step:.3},mode:["grid","vertical","horizontal","random"]},target:"main",subElements:[]},{name:"Decoration",type:"path",properties:{color:{range:[],step:[]},size:{range:[.3,1.5],step:.3},mode:["circle","star","square"]},target:"main",subElements:[]},{name:"Protrusion",type:"path",properties:{requiresTransform:!0,priority:1,color:{range:[],step:[]},size:{range:[1,20],step:1}},target:"main",subElements:[]},{name:"Islands",type:"path",properties:{color:{range:[],step:[]},size:{range:[1,20],step:1},mode:["circle","star","square"]},target:"main",subElements:[]}]}}]),t}(Aa),La=Ia,Ma=r("013f"),Va=function(e){function t(e,r){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(m["a"])({},t.baseOptions(),{membraneFraction:.5,membraneSize:"",numPoints:200,spikeHeight:.3,meshType:"grid",spikeSize:.4,decorationSize:5,decorationType:"circle",protrusionProportion:.15,protrusionBackgroundColor:"#F5F5F5",protrusionStrokeColor:"#212121",islandsType:"circle",islandsSize:10,maxNumIslands:55});Object(Ca["a"])(this,t),a=Object(za["a"])(this,Object(Da["a"])(t).call(this,e,r,n,i)),a.glyphElements=t.elements,a.itemIds=Object(m["a"])({},a.itemIds,{membrane:null,spikes:null,protrusion:null,mesh:null});var s={backend:"paper",strokeColor:"#283593",primaryColor:"#AB47BC",secondaryColor:"#D4E157",lightColor:"#1E88E5",darkColor:"#B71C1C",strokeWidth:2,thickPathSize:7,narrowPathSize:4,numSides:6,numPoints:250,spikeHeight:.3,meshType:"grid"},o=new La(a.layer,"0","Nucleus",s,Object(Ma["a"])(a));return a.registerChild(o),a}return Object(_a["a"])(t,e),Object(Ga["a"])(t,[{key:"draw",value:function(e){Object(Ea["a"])(Object(Da["a"])(t.prototype),"draw",this).call(this,e);var r=this.children[0];r.draw(Object.assign(e,{shapeType:"ellipse"}));var a=this.box.shapePositions.topShift+this.box.shapePositions.heightProportion/2-r.box.shapePositions.heightProportion/2-r.box.shapePositions.topShift;r.box.shift(null,a,{setValues:!1,drawing:!0,scale:!1,children:!1}),r.fitToBox("glyph")}}],[{key:"type",get:function(){return"CellGlyph"}},{key:"settings",get:function(){return{name:"shapeType",message:"Select glyph shape",options:["ellipse","rectangle","circle","regularPolygon","customShape"]}}},{key:"shapes",get:function(){return{main:"Cell",children:["Nucleus"]}}},{key:"elements",get:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,i=La.elements[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;s.target="Cell",e.push(s)}}catch(u){r=!0,a=u}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}var o=!0,l=!1,h=void 0;try{for(var c,p=La.elements[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;d.target="Nucleus",e.push(d)}}catch(u){l=!0,h=u}finally{try{o||null==p.return||p.return()}finally{if(l)throw h}}return e}}]),t}(La),Wa=Va,Ha={glyphTypes:[Wa,La],glyphTypeName:"",project:{name:"A new phew project",bindings:[],glyphs:[],template:{}},activeLayer:null,selection:{layer:0,path:""},glyphSettings:{name:"",message:"",options:[]},glyphShapes:{main:"",children:[],all:[]},glyphElements:[],selectedGlyphSetting:"",redrawing:!1},$a={namespaced:!0,state:Ha,getters:Fa,actions:ka,mutations:Ba},Ja=r("df7c"),Ua=r.n(Ja),qa={updateTemplateName:function(e,t){var r=e.commit;return r("updateTemplateName",t)},updateOriginalFileName:function(e,t){var r=e.commit;return r("updateOriginalFileName",t)},updateCurrentTemplate:function(e){var t=e.rootState,r=e.commit;r("updateOriginalFileName",t.backend.fileName),r("updateGlyphInformation",t.glyph.project.glyphs),r("updateElementFeatureBindings",t.glyph.project.bindings),r("updateShapes",t.backend.shapeJSONStore),r("updateShapeAssignment",t.backend.varShapeAssignment),r("updateDisplayOptions",{displayOrderField:t.backend.orderField,numDisplayedGlyphs:t.app.numDisplayedGlyphs,boundingRectSizeFactor:t.app.boundingRectSizeFactor,currentPage:t.app.currentPage})},saveCurrentTemplate:function(e){var t=e.dispatch,r=e.state;t("updateCurrentTemplate"),console.log("Saving template ".concat(r.templateName));var a=location.origin+"/save";fa.a.post(a,{templateName:r.templateName,template:r.currentTemplate})},applyTemplate:function(e){var t=e.dispatch,r=e.state;0===Object.entries(r.currentTemplate).length&&r.currentTemplate.constructor===Object&&"test0"===r.templateName&&Object.entries(r.testTemplate)&&r.testTemplate.constructor===Object&&t("setCurrentTemplate",r.testTemplate),t("glyph/setBindings",r.currentTemplate.elementFeatureBindings,{root:!0}),t("app/changeDisplayedGlyphNum",r.currentTemplate.numDisplayedGlyphs,{root:!0}),t("app/setBoundingRectSizeFactor",r.currentTemplate.boundingRectSizeFactor,{root:!0}),t("app/changeCurrentPage",r.currentTemplate.currentPage,{root:!0}),t("backend/setNamingField",r.currentTemplate.namingField,{root:!0}),t("glyph/addDataBoundGlyphs",r.currentTemplate.topGlyph.type,{root:!0}),t("backend/normalizeFeatures",null,{root:!0});for(var a=0,n=Object.entries(r.currentTemplate.glyphParameters);a<n.length;a++){var i=Object(Ze["a"])(n[a],2),s=i[0],o=i[1];t("glyph/setGlyphParameters",{shapeName:s,parameters:o},{root:!0})}},getArrayOfTemplates:function(){var e=Object(Dt["a"])(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,fa.a.post(location.origin+"/checkForTemplates");case 4:return a=location.origin+"/templates.json",e.next=7,fa.a.get(a);case 7:n=e.sent,r("setAvailableTemplates",n.data),console.log(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));function t(t){return e.apply(this,arguments)}return t}(),getTemplate:function(){var e=Object(Dt["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,n=Ua.a.join("/templates",r+".json"),console.log(n),e.prev=3,e.next=6,fa.a.get(n);case 6:i=e.sent,console.log(i.data),a.currentTemplate=i.data,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0),console.log("Template data either could not be found or could not be loaded");case 15:case"end":return e.stop()}},e,null,[[3,11]])}));function t(t,r){return e.apply(this,arguments)}return t}(),setCurrentTemplate:function(e,t){var r=e.commit;return r("setCurrentTemplate",t)}},Xa={updateTemplateName:function(e,t){return e.templateName=t},updateOriginalFileName:function(e,t){var r=Object.assign({originalFileName:t},e.currentTemplate);e.currentTemplate=r},updateGlyphInformation:function(e,t){var r=t[0];if("undefined"!==typeof r){var a=Object.assign({},e.currentTemplate),n={name:r.name,type:r.type,children:[]},i=!0,s=!1,o=void 0;try{for(var l,h=r.children[Symbol.iterator]();!(i=(l=h.next()).done);i=!0){var c=l.value;n.children.push({name:c.name,type:c.type,children:[]})}}catch(F){s=!0,o=F}finally{try{i||null==h.return||h.return()}finally{if(s)throw o}}a.topGlyph=n;var p={},d=!0,u=!1,f=void 0;try{for(var m,g=r.iter()[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;p[y.name]=y.parameters}}catch(F){u=!0,f=F}finally{try{d||null==g.return||g.return()}finally{if(u)throw f}}a.glyphParameters=p;var v=[],b=!0,w=!1,x=void 0;try{for(var S,k=t[Symbol.iterator]();!(b=(S=k.next()).done);b=!0){var P=S.value,C={_id:P.id},G=!0,N=!1,O=void 0;try{for(var j,T=P.iter()[Symbol.iterator]();!(G=(j=T.next()).done);G=!0){var B=j.value;C[B.name]={drawingBounds:P.box.drawingBounds,drawingCenter:P.box.drawingCenter,bounds:P.box.bounds,center:P.box.center,shapePositions:P.box.shapePositions,history:P.box.history,maxHistLength:P.box.maxHistLength,applyTransformsFlag:P.box.applyTransformsFlag}}}catch(F){N=!0,O=F}finally{try{G||null==T.return||T.return()}finally{if(N)throw O}}v.push(C)}}catch(F){w=!0,x=F}finally{try{b||null==k.return||k.return()}finally{if(w)throw x}}a.glyphBoxes=v,e.currentTemplate=a}},updateElementFeatureBindings:function(e,t){var r=Object.assign({},e.currentTemplate);r.elementFeatureBindings=t,e.currentTemplate=r},updateShapes:function(e,t){var r=Object.assign({},e.currentTemplate);r.shapes=Array.from(t).reduce(function(e,t){var r=Object(Ze["a"])(t,2),a=r[0],n=r[1];return Object.assign(e,Object(Pa["a"])({},a,n))},{}),e.currentTemplate=r},updateShapeAssignment:function(e,t){var r=Object.assign({},e.currentTemplate);r.shapeAssignment=t},updateDisplayOptions:function(e,t){var r=t.displayOrderField,a=t.numDisplayedGlyphs,n=t.boundingRectSizeFactor,i=t.currentPage,s=Object.assign({displayOrderField:r,numDisplayedGlyphs:a,boundingRectSizeFactor:n,currentPage:i},e.currentTemplate);e.currentTemplate=s},setAvailableTemplates:function(e,t){e.availableTemplates=t},setCurrentTemplate:function(e,t){return e.currentTemplate=t}},Ya=r("e16e"),Za=r.n(Ya),Ka=JSON.parse('{"name":"test0.json","ext":".json","path":"test0.json"}'),Qa={availableTemplates:[Ka],templateName:"",currentTemplate:{},testTemplate:JSON.parse('{"displayOrderField":"file entries","namingField":"Cell line","numDisplayedGlyphs":19,"boundingRectSizeFactor":1,"currentPage":1,"originalFileName":"BCL_data.csv","topGlyph":{"name":"Cell","children":[{"name":"Nucleus","children":[]}]},"glyphParameters":{"Cell":{"backend":"paper","strokeColor":"#78909C","primaryColor":"#00897B","secondaryColor":"#F50057","lightColor":"#E1F5FE","darkColor":"#880E4F","strokeWidth":1,"thickPathSize":6,"narrowPathSize":3,"membraneFraction":0.5,"membraneSize":"","numPoints":200,"spikeHeight":0.3,"meshType":"grid","spikeSize":0.4,"decorationSize":5,"decorationType":"circle","protrusionProportion":0.15,"protrusionBackgroundColor":"#F5F5F5","protrusionStrokeColor":"#212121","islandsType":"circle","islandsSize":10,"maxNumIslands":55},"Nucleus":{"backend":"paper","strokeColor":"#283593","primaryColor":"#AB47BC","secondaryColor":"#D4E157","lightColor":"#1E88E5","darkColor":"#B71C1C","strokeWidth":2,"thickPathSize":7,"narrowPathSize":4,"numSides":6,"numPoints":250,"spikeHeight":0.3,"meshType":"grid"}},"glyphBoxes":[{"_id":"hs578T","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":57.074999999999996,"x":53.625,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":146.2},"bounds":{"width":80.67324673880462,"height":142.85359925002294,"left":102.4133766305977,"top":88.90597102939827,"x":102.4133766305977,"y":88.90597102939827,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":160.33277065440973},"shapePositions":{"leftShift":0.2737075827803517,"topShift":0.1785748725351937,"widthProportion":0.4525848344392966,"heightProportion":0.8014227166901707},"history":[{"transform":"resize","parameters":[0.4525848344392966,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.9428502549296126,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":57.074999999999996,"x":53.625,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":146.2},"bounds":{"width":80.67324673880462,"height":142.85359925002294,"left":102.4133766305977,"top":88.90597102939827,"x":102.4133766305977,"y":88.90597102939827,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":160.33277065440973},"shapePositions":{"leftShift":0.2737075827803517,"topShift":0.1785748725351937,"widthProportion":0.4525848344392966,"heightProportion":0.8014227166901707},"history":[{"transform":"resize","parameters":[0.4525848344392966,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.9428502549296126,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"T74D","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":57.074999999999996,"x":232.375,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":146.2},"bounds":{"width":75.13880530477846,"height":116.2098507492907,"left":283.9305973476108,"top":104.57876426512311,"x":283.9305973476108,"y":104.57876426512311,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":162.68368963976846},"shapePositions":{"leftShift":0.2892319626794433,"topShift":0.2665007812910133,"widthProportion":0.42153607464111337,"heightProportion":0.6519486718052774},"history":[{"transform":"resize","parameters":[0.42153607464111337,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7669984374179734,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":57.074999999999996,"x":232.375,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":146.2},"bounds":{"width":75.13880530477846,"height":116.2098507492907,"left":283.9305973476108,"top":104.57876426512311,"x":283.9305973476108,"y":104.57876426512311,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":162.68368963976846},"shapePositions":{"leftShift":0.2892319626794433,"topShift":0.2665007812910133,"widthProportion":0.42153607464111337,"heightProportion":0.6519486718052774},"history":[{"transform":"resize","parameters":[0.42153607464111337,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7669984374179734,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MDA-MB-157","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":57.074999999999996,"x":411.12499999999994,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":146.2},"bounds":{"width":93.2552160031925,"height":151.5125,"left":453.6223919984037,"top":83.8125,"x":453.6223919984037,"y":83.8125,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.24999999999994,"y":159.56875},"shapePositions":{"leftShift":0.23841454136551893,"topShift":0.15,"widthProportion":0.5231709172689621,"heightProportion":0.85},"history":[{"transform":"resize","parameters":[0.5231709172689621,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,1,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":57.074999999999996,"x":411.12499999999994,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":146.2},"bounds":{"width":93.2552160031925,"height":151.5125,"left":453.6223919984037,"top":83.8125,"x":453.6223919984037,"y":83.8125,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.24999999999994,"y":159.56875},"shapePositions":{"leftShift":0.23841454136551893,"topShift":0.15,"widthProportion":0.5231709172689621,"heightProportion":0.85},"history":[{"transform":"resize","parameters":[0.5231709172689621,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,1,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"HCC1143","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":57.074999999999996,"x":589.875,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":146.2},"bounds":{"width":75.61329575352197,"height":130.10793188420053,"left":641.193352123239,"top":96.40342242105851,"x":641.193352123239,"y":96.40342242105851,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":161.45738836315877},"shapePositions":{"leftShift":0.28790099367876026,"topShift":0.22063631091757932,"widthProportion":0.42419801264247947,"heightProportion":0.7299182714401151},"history":[{"transform":"resize","parameters":[0.42419801264247947,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.8587273781648413,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":57.074999999999996,"x":589.875,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":146.2},"bounds":{"width":75.61329575352197,"height":130.10793188420053,"left":641.193352123239,"top":96.40342242105851,"x":641.193352123239,"y":96.40342242105851,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":161.45738836315877},"shapePositions":{"leftShift":0.28790099367876026,"topShift":0.22063631091757932,"widthProportion":0.42419801264247947,"heightProportion":0.7299182714401151},"history":[{"transform":"resize","parameters":[0.42419801264247947,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.8587273781648413,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"AU565","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":57.074999999999996,"x":768.625,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":146.2},"bounds":{"width":57.74747769868679,"height":80.62885517854359,"left":828.8762611506565,"top":125.50876165968023,"x":828.8762611506565,"y":125.50876165968023,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.7499999999999,"y":165.82318924895202},"shapePositions":{"leftShift":0.33801549032626427,"topShift":0.38392012151293264,"widthProportion":0.32396901934747147,"heightProportion":0.45233579342801455},"history":[{"transform":"resize","parameters":[0.32396901934747147,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5321597569741348,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":57.074999999999996,"x":768.625,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":146.2},"bounds":{"width":57.74747769868679,"height":80.62885517854359,"left":828.8762611506565,"top":125.50876165968023,"x":828.8762611506565,"y":125.50876165968023,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.7499999999999,"y":165.82318924895202},"shapePositions":{"leftShift":0.33801549032626427,"topShift":0.38392012151293264,"widthProportion":0.32396901934747147,"heightProportion":0.45233579342801455},"history":[{"transform":"resize","parameters":[0.32396901934747147,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5321597569741348,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"ZR75.1","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":947.375,"top":57.074999999999996,"x":947.375,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1036.5,"y":146.2},"bounds":{"width":51.40100433679468,"height":74.57317101618949,"left":1010.7994978316027,"top":129.07092881400618,"x":1010.7994978316027,"y":129.07092881400618,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1036.5,"y":166.35751432210094},"shapePositions":{"leftShift":0.3558176596443347,"topShift":0.40390422897058165,"widthProportion":0.2883646807113306,"heightProportion":0.41836281075001114},"history":[{"transform":"resize","parameters":[0.2883646807113306,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.49219154205883664,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":947.375,"top":57.074999999999996,"x":947.375,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1036.5,"y":146.2},"bounds":{"width":51.40100433679468,"height":74.57317101618949,"left":1010.7994978316027,"top":129.07092881400618,"x":1010.7994978316027,"y":129.07092881400618,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1036.5,"y":166.35751432210094},"shapePositions":{"leftShift":0.3558176596443347,"topShift":0.40390422897058165,"widthProportion":0.2883646807113306,"heightProportion":0.41836281075001114},"history":[{"transform":"resize","parameters":[0.2883646807113306,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.49219154205883664,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"CAMA1","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":1126.125,"top":57.074999999999996,"x":1126.125,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1215.25,"y":146.2},"bounds":{"width":57.63079417817289,"height":80.69445727982563,"left":1186.4346029109136,"top":125.47017218833787,"x":1186.4346029109136,"y":125.47017218833787,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1215.25,"y":165.8174008282507},"shapePositions":{"leftShift":0.3383427933291083,"topShift":0.38370363079011427,"widthProportion":0.3233144133417834,"heightProportion":0.4527038276568058},"history":[{"transform":"resize","parameters":[0.3233144133417834,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5325927384197715,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":1126.125,"top":57.074999999999996,"x":1126.125,"y":57.074999999999996,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1215.25,"y":146.2},"bounds":{"width":57.63079417817289,"height":80.69445727982563,"left":1186.4346029109136,"top":125.47017218833787,"x":1186.4346029109136,"y":125.47017218833787,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1215.25,"y":165.8174008282507},"shapePositions":{"leftShift":0.3383427933291083,"topShift":0.38370363079011427,"widthProportion":0.3233144133417834,"heightProportion":0.4527038276568058},"history":[{"transform":"resize","parameters":[0.3233144133417834,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5325927384197715,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"BT474","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":247.32500000000002,"x":53.625,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":336.45000000000005},"bounds":{"width":52.65982482000445,"height":77.27275844579988,"left":116.42008758999778,"top":317.73293620835307,"x":116.42008758999778,"y":317.73293620835307,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":356.369315431253},"shapePositions":{"leftShift":0.35228660639549947,"topShift":0.394995434548965,"widthProportion":0.2954267872090011,"heightProportion":0.4335077612667595},"history":[{"transform":"resize","parameters":[0.2954267872090011,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.51000913090207,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":247.32500000000002,"x":53.625,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":336.45000000000005},"bounds":{"width":52.65982482000445,"height":77.27275844579988,"left":116.42008758999778,"top":317.73293620835307,"x":116.42008758999778,"y":317.73293620835307,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":356.369315431253},"shapePositions":{"leftShift":0.35228660639549947,"topShift":0.394995434548965,"widthProportion":0.2954267872090011,"heightProportion":0.4335077612667595},"history":[{"transform":"resize","parameters":[0.2954267872090011,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.51000913090207,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MDA-MB-231","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":247.32500000000002,"x":232.375,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":336.45000000000005},"bounds":{"width":57.682326787228234,"height":94.35215666652898,"left":292.6588366063859,"top":307.68623137263,"x":292.6588366063859,"y":307.68623137263,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":354.8623097058945},"shapePositions":{"leftShift":0.33819824183105685,"topShift":0.33863243406805055,"widthProportion":0.3236035163378863,"heightProportion":0.5293248620843141},"history":[{"transform":"resize","parameters":[0.3236035163378863,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.622735131863899,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":247.32500000000002,"x":232.375,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":336.45000000000005},"bounds":{"width":57.682326787228234,"height":94.35215666652898,"left":292.6588366063859,"top":307.68623137263,"x":292.6588366063859,"y":307.68623137263,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":354.8623097058945},"shapePositions":{"leftShift":0.33819824183105685,"topShift":0.33863243406805055,"widthProportion":0.3236035163378863,"heightProportion":0.5293248620843141},"history":[{"transform":"resize","parameters":[0.3236035163378863,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.622735131863899,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"SKBR3","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":247.32500000000002,"x":411.12499999999994,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":336.45000000000005},"bounds":{"width":84.61861261819325,"height":130.77602666897639,"left":457.94069369090334,"top":286.2604254888374,"x":457.94069369090334,"y":286.2604254888374,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.25,"y":351.6484388233256},"shapePositions":{"leftShift":0.26264063781712976,"topShift":0.2184315595446699,"widthProportion":0.47471872436574053,"heightProportion":0.7336663487740611},"history":[{"transform":"resize","parameters":[0.47471872436574053,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.8631368809106602,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":247.32500000000002,"x":411.12499999999994,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":336.45000000000005},"bounds":{"width":84.61861261819325,"height":130.77602666897639,"left":457.94069369090334,"top":286.2604254888374,"x":457.94069369090334,"y":286.2604254888374,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.25,"y":351.6484388233256},"shapePositions":{"leftShift":0.26264063781712976,"topShift":0.2184315595446699,"widthProportion":0.47471872436574053,"heightProportion":0.7336663487740611},"history":[{"transform":"resize","parameters":[0.47471872436574053,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.8631368809106602,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"JIMT1","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":247.32500000000002,"x":589.875,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":336.45000000000005},"bounds":{"width":66.54162418180954,"height":102.0304037348367,"left":645.7291879090952,"top":303.1696154500961,"x":645.7291879090952,"y":303.1696154500961,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":354.18481731751444},"shapePositions":{"leftShift":0.3133474777508849,"topShift":0.3132937753161069,"widthProportion":0.3733050444982302,"heightProportion":0.5724005819626182},"history":[{"transform":"resize","parameters":[0.3733050444982302,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6734124493677861,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":247.32500000000002,"x":589.875,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":336.45000000000005},"bounds":{"width":66.54162418180954,"height":102.0304037348367,"left":645.7291879090952,"top":303.1696154500961,"x":645.7291879090952,"y":303.1696154500961,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":354.18481731751444},"shapePositions":{"leftShift":0.3133474777508849,"topShift":0.3132937753161069,"widthProportion":0.3733050444982302,"heightProportion":0.5724005819626182},"history":[{"transform":"resize","parameters":[0.3733050444982302,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6734124493677861,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MCF7","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":247.32500000000002,"x":768.625,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":336.45000000000005},"bounds":{"width":62.45077009032323,"height":101.71314405122115,"left":826.5246149548384,"top":303.35623879339937,"x":826.5246149548384,"y":303.35623879339937,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.75,"y":354.21281081901},"shapePositions":{"leftShift":0.3248225242908184,"topShift":0.3143407505941056,"widthProportion":0.35035495141836315,"heightProportion":0.5706207239900205},"history":[{"transform":"resize","parameters":[0.35035495141836315,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6713184988117888,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":247.32500000000002,"x":768.625,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":336.45000000000005},"bounds":{"width":62.45077009032323,"height":101.71314405122115,"left":826.5246149548384,"top":303.35623879339937,"x":826.5246149548384,"y":303.35623879339937,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.75,"y":354.21281081901},"shapePositions":{"leftShift":0.3248225242908184,"topShift":0.3143407505941056,"widthProportion":0.35035495141836315,"heightProportion":0.5706207239900205},"history":[{"transform":"resize","parameters":[0.35035495141836315,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6713184988117888,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MDA-MB-453","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":947.375,"top":247.32500000000002,"x":947.375,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1036.5,"y":336.45000000000005},"bounds":{"width":46.147900789103126,"height":52.53693338200776,"left":1013.4260496054485,"top":332.28342153999546,"x":1013.4260496054485,"y":332.28342153999546,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1036.5,"y":358.55188823099934},"shapePositions":{"leftShift":0.3705528729618426,"topShift":0.4766250857783755,"widthProportion":0.2588942540763149,"heightProportion":0.2947373541767616},"history":[{"transform":"resize","parameters":[0.2588942540763149,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.346749828443249,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":947.375,"top":247.32500000000002,"x":947.375,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1036.5,"y":336.45000000000005},"bounds":{"width":46.147900789103126,"height":52.53693338200776,"left":1013.4260496054485,"top":332.28342153999546,"x":1013.4260496054485,"y":332.28342153999546,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1036.5,"y":358.55188823099934},"shapePositions":{"leftShift":0.3705528729618426,"topShift":0.4766250857783755,"widthProportion":0.2588942540763149,"heightProportion":0.2947373541767616},"history":[{"transform":"resize","parameters":[0.2588942540763149,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.346749828443249,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"HCC1954","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":1126.125,"top":247.32500000000002,"x":1126.125,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1215.25,"y":336.45000000000005},"bounds":{"width":71.77021688685527,"height":111.96843802602,"left":1179.3648915565723,"top":297.3237129258706,"x":1179.3648915565723,"y":297.3237129258706,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1215.25,"y":353.3079319388806},"shapePositions":{"leftShift":0.2986810185501956,"topShift":0.28049768822367793,"widthProportion":0.4026379628996088,"heightProportion":0.6281539300197475},"history":[{"transform":"resize","parameters":[0.4026379628996088,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7390046235526442,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":1126.125,"top":247.32500000000002,"x":1126.125,"y":247.32500000000002,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":1215.25,"y":336.45000000000005},"bounds":{"width":71.77021688685527,"height":111.96843802602,"left":1179.3648915565723,"top":297.3237129258706,"x":1179.3648915565723,"y":297.3237129258706,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":1215.25,"y":353.3079319388806},"shapePositions":{"leftShift":0.2986810185501956,"topShift":0.28049768822367793,"widthProportion":0.4026379628996088,"heightProportion":0.6281539300197475},"history":[{"transform":"resize","parameters":[0.4026379628996088,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7390046235526442,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"HCC70","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":437.575,"x":53.625,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":526.7},"bounds":{"width":53.943091344060974,"height":85.40184088342292,"left":115.77845432796951,"top":503.2011230097512,"x":115.77845432796951,"y":503.2011230097512,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":545.9020434514626},"shapePositions":{"leftShift":0.348686980802073,"topShift":0.3681689930420826,"widthProportion":0.302626038395854,"heightProportion":0.4791127118284596},"history":[{"transform":"resize","parameters":[0.302626038395854,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5636620139158348,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":53.625,"top":437.575,"x":53.625,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":142.75,"y":526.7},"bounds":{"width":53.943091344060974,"height":85.40184088342292,"left":115.77845432796951,"top":503.2011230097512,"x":115.77845432796951,"y":503.2011230097512,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":142.75,"y":545.9020434514626},"shapePositions":{"leftShift":0.348686980802073,"topShift":0.3681689930420826,"widthProportion":0.302626038395854,"heightProportion":0.4791127118284596},"history":[{"transform":"resize","parameters":[0.302626038395854,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5636620139158348,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"SUM149","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":437.575,"x":232.375,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":526.7},"bounds":{"width":82.06326342651859,"height":119.99296281923395,"left":280.4683682867407,"top":482.85340422398,"x":280.4683682867407,"y":482.85340422398,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":542.849885633597},"shapePositions":{"leftShift":0.2698085177376758,"topShift":0.2540162929816552,"widthProportion":0.46038296452464844,"heightProportion":0.6731723019311863},"history":[{"transform":"resize","parameters":[0.46038296452464844,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7919674140366897,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":232.375,"top":437.575,"x":232.375,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":321.5,"y":526.7},"bounds":{"width":82.06326342651859,"height":119.99296281923395,"left":280.4683682867407,"top":482.85340422398,"x":280.4683682867407,"y":482.85340422398,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":321.5,"y":542.849885633597},"shapePositions":{"leftShift":0.2698085177376758,"topShift":0.2540162929816552,"widthProportion":0.46038296452464844,"heightProportion":0.6731723019311863},"history":[{"transform":"resize","parameters":[0.46038296452464844,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7919674140366897,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"SUM159","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":437.575,"x":411.12499999999994,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":526.7},"bounds":{"width":54.70262272248558,"height":98.15246509064373,"left":472.89868863875716,"top":495.7007558290331,"x":472.89868863875716,"y":495.7007558290331,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.24999999999994,"y":544.7769883743549},"shapePositions":{"leftShift":0.34655645800144297,"topShift":0.32609119679681964,"widthProportion":0.30688708399711406,"heightProportion":0.5506449654454066},"history":[{"transform":"resize","parameters":[0.30688708399711406,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6478176064063608,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":411.12499999999994,"top":437.575,"x":411.12499999999994,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":500.24999999999994,"y":526.7},"bounds":{"width":54.70262272248558,"height":98.15246509064373,"left":472.89868863875716,"top":495.7007558290331,"x":472.89868863875716,"y":495.7007558290331,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":500.24999999999994,"y":544.7769883743549},"shapePositions":{"leftShift":0.34655645800144297,"topShift":0.32609119679681964,"widthProportion":0.30688708399711406,"heightProportion":0.5506449654454066},"history":[{"transform":"resize","parameters":[0.30688708399711406,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.6478176064063608,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MCF10A","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":437.575,"x":589.875,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":526.7},"bounds":{"width":62.034723274935196,"height":87.20006771814818,"left":647.9826383625324,"top":502.14334251873635,"x":647.9826383625324,"y":502.14334251873635,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":545.7433763778105},"shapePositions":{"leftShift":0.3259895560310373,"topShift":0.36223474063807215,"widthProportion":0.34802088793792535,"heightProportion":0.48920094091527727},"history":[{"transform":"resize","parameters":[0.34802088793792535,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5755305187238556,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":589.875,"top":437.575,"x":589.875,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":679,"y":526.7},"bounds":{"width":62.034723274935196,"height":87.20006771814818,"left":647.9826383625324,"top":502.14334251873635,"x":647.9826383625324,"y":502.14334251873635,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":679,"y":545.7433763778105},"shapePositions":{"leftShift":0.3259895560310373,"topShift":0.36223474063807215,"widthProportion":0.34802088793792535,"heightProportion":0.48920094091527727},"history":[{"transform":"resize","parameters":[0.34802088793792535,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.5755305187238556,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}},{"_id":"MCF12A","Cell":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":437.575,"x":768.625,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":526.7},"bounds":{"width":72.44951429723928,"height":115.17607118081902,"left":821.5252428513803,"top":485.68686989363584,"x":821.5252428513803,"y":485.68686989363584,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.75,"y":543.2749054840453},"shapePositions":{"leftShift":0.29677555596847327,"topShift":0.26991231356878465,"widthProportion":0.40644888806305346,"heightProportion":0.6461490669330661},"history":[{"transform":"resize","parameters":[0.40644888806305346,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7601753728624306,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false},"Nucleus":{"drawingBounds":{"width":178.25,"height":178.25,"left":768.625,"top":437.575,"x":768.625,"y":437.575,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"drawingCenter":{"x":857.75,"y":526.7},"bounds":{"width":72.44951429723928,"height":115.17607118081902,"left":821.5252428513803,"top":485.68686989363584,"x":821.5252428513803,"y":485.68686989363584,"generator":{"type":"grid","id":"x-offset: 178.75; y-offset: 190.25; width: 178.25; height: 178.25"}},"center":{"x":857.75,"y":543.2749054840453},"shapePositions":{"leftShift":0.29677555596847327,"topShift":0.26991231356878465,"widthProportion":0.40644888806305346,"heightProportion":0.6461490669330661},"history":[{"transform":"resize","parameters":[0.40644888806305346,null,{"drawing":true,"center":true,"children":true}]},{"transform":"resize","parameters":[null,0.7601753728624306,{"drawing":true,"center":true,"children":true}]},{"transform":"shift","parameters":[null,0.15,{"drawing":true,"scale":true,"children":true}]}],"maxHistLength":20,"applyTransformsFlag":false}}],"elementFeatureBindings":[{"element":"Height","field":"Length","shape":"Cell"},{"element":"Width","field":"Width","shape":"Cell"},{"element":"Membrane","field":"Ruffliness","shape":"Cell"},{"element":"Protrusion","field":"Protrusions","shape":"Cell"},{"element":"Decoration","field":"Ruffliness","shape":"Cell"},{"element":"Height","field":"Nuc Length","shape":"Nucleus"},{"element":"Width","field":"Nuc Width","shape":"Nucleus"},{"element":"Membrane","field":"NF","shape":"Nucleus"},{"element":"Mesh","field":"Nuc Text","shape":"Nucleus"}],"shapes":{}}')},en={namespaced:!0,state:Qa,getters:Za.a,actions:qa,mutations:Xa};a["default"].use(g["a"]);var tn=new g["a"].Store({strict:!0,modules:{app:pa,backend:Sa,glyph:$a,template:en}}),rn=r("ce5b"),an=r.n(rn);r("bf40"),r("d1e7");a["default"].use(an.a,{theme:{light:"#EEEEEE",dark:"#424242",primary:"#673AB7",secondary:"#D1C4E9",accent:"#651FFF"}}),a["default"].use(n["a"]),a["default"].config.productionTip=!1,window.arrayIter=Array.prototype[Symbol.iterator],new a["default"]({el:"#app",router:ra,store:tn,components:{App:p},template:"<App/>"})},"581e":function(e,t,r){"use strict";var a=r("f086"),n=r.n(a);n.a},"654c":function(e,t,r){"use strict";var a=r("aa08"),n=r.n(a);n.a},"6abf5":function(e,t,r){"use strict";var a=r("a4ca"),n=r.n(a);n.a},"6c95":function(e,t,r){"use strict";var a=r("ea64"),n=r.n(a);n.a},"72e6":function(e,t,r){"use strict";var a=r("d546"),n=r.n(a);n.a},"736b":function(e,t,r){"use strict";var a=r("1e56"),n=r.n(a);n.a},"75e0":function(e,t,r){},"78aa":function(e,t,r){},"790b":function(e,t,r){"use strict";var a=r("5434"),n=r.n(a);n.a},"7d7f":function(e,t,r){},"805b":function(e,t,r){},a4ca:function(e,t,r){},a6c7:function(e,t,r){"use strict";var a=r("ee1f"),n=r.n(a);n.a},aa08:function(e,t,r){},aa19:function(e,t,r){"use strict";var a=r("b59a"),n=r.n(a);n.a},ac2d:function(e,t,r){"use strict";var a=r("1bc6"),n=r.n(a);n.a},ac4f:function(e,t,r){},b59a:function(e,t,r){},c892:function(e,t,r){"use strict";var a=r("78aa"),n=r.n(a);n.a},c9eb:function(e,t){},ce109:function(e,t,r){"use strict";var a=r("805b"),n=r.n(a);n.a},d546:function(e,t,r){},d741:function(e,t,r){"use strict";var a=r("7d7f"),n=r.n(a);n.a},e16e:function(e,t){},e22f:function(e,t,r){},ea64:function(e,t,r){},ee1f:function(e,t,r){},f086:function(e,t,r){},f274:function(e,t,r){"use strict";var a=r("1076"),n=r.n(a);n.a},f8fa:function(e,t,r){}});
//# sourceMappingURL=app.e8b2165c.js.map